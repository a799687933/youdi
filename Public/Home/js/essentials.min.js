function lazyLoadImg(n){n[0].src=n.data("img");n.removeClass("lazySlider")}function defaultSliderLoad(n,t,i){var r="",e,u,f;for(i.length>0&&(r="#"+i.attr("id")),FFAPI.plugins.rollover.start({rolloverSelector:".no-touch "+r+" .sliderTabs-slide .imageRollover"}),$(r+" .sliderTabs-slide").not(".bx-clone").eq(n).addClass("activeRecSlide"),e=$(r+" .activeRecSlide").index(),u=0;u<t;u++)f=$(r+" .sliderTabs-slide").eq(e+u).find("img"),f.hasClass("lazySlider")&&f.length>0&&lazyLoadImg(f)}function defaultSliderBefore(n,t,i,r,u){var f="",e;u.length>0&&(f="#"+u.attr("id"));$(f+" .lazySlider").length>0&&(e=$(f+" .sliderTabs-slide").find("img"),e.length>0&&e.each(function(){lazyLoadImg($(this))}))}function mqCarousel(n,t){function f(i){return{preloadImages:"visible",slideWidth:s/i-1,minSlides:i,maxSlides:i,moveSlides:i,pager:!1,oneToOneTouch:!1,onSliderLoad:function(){[].push.call(arguments,i,t);defaultSliderLoad.apply(this,arguments)},onSlideBefore:function(){[].push.call(arguments,i,t,n);defaultSliderBefore.apply(this,arguments)}}}var i={xl:3,md:3,sm:3,xs:3},e=FFAPI.variables.product.tabContainer.parent(),h=newCol=12,u=e.data("size"),s,o,r;u||(u=e.attr("class").match(new RegExp("col([0-9]{1,})","i")),u=u[1]);s=e.width()*1;u&&(newCol=parseInt(u));i.xl=Math.ceil(newCol*12/h);i.md=Math.ceil(i.xl*.75);i.sm=Math.ceil(i.xl*.5);for(o in i)i[o]<i.xs&&(i[o]=i.xs);return r={},window.innerWidth>=1025?r=$.extend(!0,{},f(i.xl)):window.innerWidth<500?r=$.extend(!0,{},f(i.xs)):window.innerWidth<768?r=$.extend(!0,{},f(i.xs)):window.innerWidth<1025&&(r=$.extend(!0,{},f(i.md))),n&&r.minSlides>=n&&(r.controls=!1,r.infiniteLoop=!1),r}function tooltips(){function i(){n||($(".clickTooltip").tipsy("hide"),$(".clickTooltip").fadeOut(),n=!0)}var t,n;$(".no-touch .tooltips").tipsy({gravity:function(){return $(this).data("orientation")},className:function(){return $(this).data("color")}});$(".inputTooltips").tipsy({trigger:"focus",gravity:function(){return $(this).data("orientation")},className:function(){return $(this).data("color")}});$(".hoverTooltips").tipsy({trigger:"manual",gravity:function(){return $(this).data("orientation")},className:function(){return $(this).data("color")},offset:function(){return $(this).data("tipsy-offset")!==undefined?$(this).data("tipsy-offset"):15},bgColor:function(){return $(this).data("tipsy-bgcolor")!==undefined?$(this).data("tipsy-bgcolor"):"#f5f5f5"}});$(".hoverTooltips").bind("mouseenter",function(){clearTimeout(t);$(".hoverTooltip").remove();$(this).tipsy("show")});$(".hoverTooltips").on("mouseleave",function(){t=setTimeout("$('.hoverTooltip').fadeOut();",500)});$(".hoverTooltip").on("mouseover",function(){clearTimeout(t)});$(".hoverTooltip").on("mouseout",function(){t=setTimeout("$('.hoverTooltip').fadeOut();",500)});$(".clickTooltips").tipsy({trigger:"manual",gravity:function(){return $(this).data("orientation")},className:function(){return $(this).data("color")},width:function(){return $(this).data("tipsy-width")},responsive:function(){return $(this).data("tipsy-responsive")},offset:function(){return $(this).data("tipsy-offset")!==undefined?$(this).data("tipsy-offset"):13},bgColor:function(){return $(this).data("tipsy-bgcolor")!==undefined?$(this).data("tipsy-bgcolor"):"#f5f5f5"}});n=!0;FFAPI.methods.on(FFAPI.win,"resize",i);$(".clickTooltips").bind("click",function(t){return t.preventDefault(),typeof _fftrkobj!="undefined"&&_fftrkobj.extract($(this)),$(".clickTooltip").fadeOut(),n==!1?($(this).tipsy("hide"),n=!0,!1):($(this).tipsy("show"),n=!1,!1)});$("body").on("click",function(){if(n==!1)return $(".clickTooltip").fadeOut(),n=!0,!1})}var Hogan={},slideDirection,FFAPI;(function(n,t){function i(n){return String(n===null||n===undefined?"":n)}function c(n){return n=i(n),h.test(n)?n.replace(u,"&amp;").replace(f,"&lt;").replace(e,"&gt;").replace(o,"&#39;").replace(s,"&quot;"):n}var r;n.Template=function(n,i,r,u){this.r=n||this.r;this.c=r;this.options=u;this.text=i||"";this.buf=t?[]:""};n.Template.prototype={r:function(){return""},v:c,t:i,render:function(n,t,i){return this.ri([n],t||{},i)},ri:function(n,t,i){return this.r(n,t,i)},rp:function(n,t,i,r){var u=i[n];return u?(this.c&&typeof u=="string"&&(u=this.c.compile(u,this.options)),u.ri(t,i,r)):""},rs:function(n,t,i){var f=n[n.length-1],u;if(!r(f)){i(n,t,this);return}for(u=0;u<f.length;u++)n.push(f[u]),i(n,t,this),n.pop()},s:function(n,t,i,u,f,e,o){var s;return r(n)&&n.length===0?!1:(typeof n=="function"&&(n=this.ls(n,t,i,u,f,e,o)),s=n===""||!!n,!u&&s&&t&&t.push(typeof n=="object"?n:t[t.length-1]),s)},d:function(n,t,i,u){var o=n.split("."),f=this.f(o[0],t,i,u),s=null,e;if(n==="."&&r(t[t.length-2]))return t[t.length-1];for(e=1;e<o.length;e++)f&&typeof f=="object"&&o[e]in f?(s=f,f=f[o[e]]):f="";return u&&!f?!1:(u||typeof f!="function"||(t.push(s),f=this.lv(f,t,i),t.pop()),f)},f:function(n,t,i,r){for(var u=!1,f=null,o=!1,e=t.length-1;e>=0;e--)if(f=t[e],f&&typeof f=="object"&&n in f){u=f[n];o=!0;break}return o?(r||typeof u!="function"||(u=this.lv(u,t,i)),u):r?!1:""},ho:function(n,t,i,r,u){var e=this.c,f=this.options,r;return f.delimiters=u,r=n.call(t,r),r=r==null?String(r):r.toString(),this.b(e.compile(r,f).render(t,i)),!1},b:t?function(n){this.buf.push(n)}:function(n){this.buf+=n},fl:t?function(){var n=this.buf.join("");return this.buf=[],n}:function(){var n=this.buf;return this.buf="",n},ls:function(n,t,i,r,u,f,e){var s=t[t.length-1],o=null;if(!r&&this.c&&n.length>0)return this.ho(n,s,i,this.text.substring(u,f),e);if(o=n.call(s),typeof o=="function"){if(r)return!0;if(this.c)return this.ho(o,s,i,this.text.substring(u,f),e)}return o},lv:function(n,t,r){var f=t[t.length-1],u=n.call(f);return typeof u=="function"&&(u=i(u.call(f)),this.c&&~u.indexOf("{{"))?this.c.compile(u,this.options).render(f,r):i(u)}};var u=/&/g,f=/</g,e=/>/g,o=/\'/g,s=/\"/g,h=/[&<>\"\']/;r=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(n){function y(n){n.n.substr(n.n.length-1)==="}"&&(n.n=n.n.substring(0,n.n.length-1))}function f(n){return n.trim?n.trim():n.replace(/^\s*|\s*$/g,"")}function e(n,t,i){if(t.charAt(i)!=n.charAt(0))return!1;for(var r=1,u=n.length;r<u;r++)if(t.charAt(i+r)!=n.charAt(r))return!1;return!0}function o(n,t,i,r){for(var e=[],f=null,u=null;n.length>0;)if(u=n.shift(),u.tag=="#"||u.tag=="^"||p(u,r))i.push(u),u.nodes=o(n,u.tag,i,r),e.push(u);else{if(u.tag=="/"){if(i.length===0)throw new Error("Closing tag without opener: /"+u.n);if(f=i.pop(),u.n!=f.n&&!w(u.n,f.n,r))throw new Error("Nesting error: "+f.n+" vs. "+u.n);return f.end=u.i,e}e.push(u)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return e}function p(n,t){for(var i=0,r=t.length;i<r;i++)if(t[i].o==n.n)return n.tag="#",!0}function w(n,t,i){for(var r=0,u=i.length;r<u;r++)if(i[r].c==n&&i[r].o==t)return!0}function t(n){return n.replace(v,"\\\\").replace(c,'\\"').replace(l,"\\n").replace(a,"\\r")}function i(n){return~n.indexOf(".")?"d":"f"}function u(n){for(var u,f="",r=0,e=n.length;r<e;r++)u=n[r].tag,u=="#"?f+=b(n[r].nodes,n[r].n,i(n[r].n),n[r].i,n[r].end,n[r].otag+" "+n[r].ctag):u=="^"?f+=k(n[r].nodes,n[r].n,i(n[r].n)):u=="<"||u==">"?f+=d(n[r]):u=="{"||u=="&"?f+=g(n[r].n,i(n[r].n)):u=="\n"?f+=s('"\\n"'+(n.length-1==r?"":" + i")):u=="_v"?f+=nt(n[r].n,i(n[r].n)):u===undefined&&(f+=s('"'+t(n[r])+'"'));return f}function b(n,i,r,f,e,o){return"if(_.s(_."+r+'("'+t(i)+'",c,p,1),c,p,0,'+f+","+e+',"'+o+'")){_.rs(c,p,function(c,p,_){'+u(n)+"});c.pop();}"}function k(n,i,r){return"if(!_.s(_."+r+'("'+t(i)+'",c,p,1),c,p,1,0,0,"")){'+u(n)+"};"}function d(n){return'_.b(_.rp("'+t(n.n)+'",c,p,"'+(n.indent||"")+'"));'}function g(n,i){return"_.b(_.t(_."+i+'("'+t(n)+'",c,p,0)));'}function nt(n,i){return"_.b(_.v(_."+i+'("'+t(n)+'",c,p,0)));'}function s(n){return"_.b("+n+");"}var h=/\S/,c=/\"/g,l=/\n/g,a=/\r/g,v=/\\/g,r={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};n.scan=function(n,t){function d(){s.length>0&&(u.push(new String(s)),s="")}function tt(){for(var t=!0,n=b;n<u.length;n++)if(t=u[n].tag&&r[u[n].tag]<r._v||!u[n].tag&&u[n].match(h)===null,!t)return!1;return t}function g(n,t){if(d(),n&&tt())for(var i=b,r;i<u.length;i++)u[i].tag||((r=u[i+1])&&r.tag==">"&&(r.indent=u[i].toString()),u.splice(i,1));else t||u.push({tag:"\n"});v=!1;b=u.length}function it(n,t){var i="="+o,r=n.indexOf(i,t),u=f(n.substring(n.indexOf("=",t)+1,r)).split(" ");return l=u[0],o=u[1],r+i.length-1}var nt=n.length,p=0,k=1,c=p,a=null,w=null,s="",u=[],v=!1,i=0,b=0,l="{{",o="}}";for(t&&(t=t.split(" "),l=t[0],o=t[1]),i=0;i<nt;i++)c==p?e(l,n,i)?(--i,d(),c=k):n.charAt(i)=="\n"?g(v):s+=n.charAt(i):c==k?(i+=l.length-1,w=r[n.charAt(i+1)],a=w?n.charAt(i+1):"_v",a=="="?(i=it(n,i),c=p):(w&&i++,c=2),v=i):e(o,n,i)?(u.push({tag:a,n:f(s),otag:l,ctag:o,i:a=="/"?v-o.length:i+l.length}),s="",i+=o.length-1,c=p,a=="{"&&(o=="}}"?i++:y(u[u.length-1]))):s+=n.charAt(i);return g(v,!0),u};n.generate=function(t,i,r){var f='var _=this;_.b(i=i||"");'+u(t)+"return _.fl();";return r.asString?"function(c,p,i){"+f+";}":new n.Template(new Function("c","p","i",f),i,n,r)};n.parse=function(n,t,i){return i=i||{},o(n,"",[],i.sectionTags||[])};n.cache={};n.compile=function(n,t){t=t||{};var r=n+"||"+!!t.asString,i=this.cache[r];return i?i:(i=this.generate(this.parse(this.scan(n,t.delimiters),n,t),n,t),this.cache[r]=i)}}(typeof exports!="undefined"?exports:Hogan),function(n,t){var i=function(n,t,i){var r;return function(){function e(){i||n.apply(u,f);r=null}var u=this,f=arguments;r?clearTimeout(r):i&&n.apply(u,f);r=setTimeout(e,t||100)}};n.fn[t]=function(n,r){return n?this.bind("resize",i(n,r)):this.trigger(t)}}(jQuery,"smartresize");FFAPI=FFAPI||{};FFAPI.keycode=FFAPI.keycodes||{};FFAPI.keycode.backspace=8;FFAPI.keycode.tab=9;FFAPI.keycode.enter=13;FFAPI.keycode.shift=16;FFAPI.keycode.ctrl=17;FFAPI.keycode.alt=18;FFAPI.keycode.pause=19;FFAPI.keycode.caps_lock=20;FFAPI.keycode.escape=27;FFAPI.keycode.page_up=33;FFAPI.keycode.page_down=34;FFAPI.keycode.end=35;FFAPI.keycode.home=36;FFAPI.keycode.left_arrow=37;FFAPI.keycode.up_arrow=38;FFAPI.keycode.right_arrow=39;FFAPI.keycode.down_arrow=40;FFAPI.keycode.insert=45;FFAPI.keycode.del=46;FFAPI.variables=FFAPI.variables||{};FFAPI.variables.animationSpeed=300;FFAPI.variables.resizeWindowTime=200;FFAPI.variables.isTestEnvironment=!1;FFAPI.variables.hasPlurals=!1;$(document).ready(function(){FFAPI.variables.bodyElement=$("body");FFAPI.variables.enableBlankLinks&&!FFAPI.variables.touchSupported&&$("a.blankLink").attr("target","_blank")});FFAPI.variables.bodyElementJS=document.getElementsByTagName("body");FFAPI.methods=FFAPI.methods||{};FFAPI.methods.init=function(){};FFAPI.methods.preventClick=function(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1};FFAPI.methods.addBlankLinks=function(){FFAPI.variables.enableBlankLinks&&!FFAPI.variables.touchSupported&&$("a.blankLink").attr("target","_blank")};FFAPI.methods.debug=function(n,t){if(FFAPI.variables.isTestEnvironment&&window.console)try{console[n](t)}catch(i){}};FFAPI.methods.d2h=function(n){return n.toString(16)};FFAPI.methods.h2d=function(n){return parseInt(n,16)};FFAPI.methods.validateEmail=function(n){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n)};FFAPI.methods.getElementHeight=function(n){if(typeof n!="undefined"){var t=n.getBoundingClientRect().height;return typeof t=="undefined"&&(t=0),Math.max(n.clientHeight,t,n.offsetHeight)}return 0};FFAPI.methods.removeElementDom=function(n,t){for(var r=document.getElementsByClassName(n),u=document.getElementsByClassName(t),i=0;i<r.length;i++)u[0].removeChild(r[i])};FFAPI.methods.doRelativeJsonPost=function(n,t,i){$.ajax({type:"POST",url:(typeof globalAsyncReqDomain=="undefined"?"":globalAsyncReqDomain)+n,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n,t){typeof i=="function"&&i(n,t)}})};FFAPI.methods.doFunctionAndCallback=function(n,t){n();t()};FFAPI.methods.bindElemClick=function(n,t){for(var r=n.length,i=0;i<r;i++)n[i].removeEventListener?n[i].removeEventListener("click",FFAPI.methods.preventClick,!1):n[i].detachEvent("onclick",FFAPI.methods.preventClick),n[i].addEventListener?n[i].addEventListener("click",t,!1):n[i].attachEvent("onclick",t)};FFAPI.methods.unbindElemClick=function(n,t){for(var r=n.length,i=0;i<r;i++)n[i].removeEventListener?n[i].removeEventListener("click",t,!1):n[i].detachEvent("onclick",t),n[i].addEventListener?n[i].addEventListener("click",FFAPI.methods.preventClick,!1):n[i].attachEvent("onclick",FFAPI.methods.preventClick)};FFAPI.methods.removeEventListener=function(n){var r=n.parentNode,i=n.cloneNode(!1),t;for(r.replaceChild(i,n),t=n.childNodes.length-1;t>=0;--t)i.insertBefore(n.childNodes[t],i.childNodes[0]||null)};FFAPI.methods.removeListenerAll=function(n){for(var t=0;t<n.length;t++)FFAPI.methods.removeEventListener(n[t])};FFAPI.methods.loadingButtons=function(n){for(var n=document.getElementById(n),i=n.querySelectorAll(".js-wait-button"),u=i.length,f=n.querySelectorAll(".js-wait-text"),r=n.querySelectorAll(".js-wait-icon"),t=0,t=0;t<u;t++)i[t].setAttribute("disabled","true"),i[t].value=i[t].getAttribute("data-loader"),f[t].innerHTML=i[t].getAttribute("data-loader"),FFAPI.methods.addClass(r[0],"animation-fade-inSlower"),FFAPI.methods.addClass(r[0],"icon-loader")};FFAPI.methods.resetButtons=function(n){for(var n=document.getElementById(n),i=n.querySelectorAll(".js-wait-button"),u=i.length,f=n.querySelectorAll(".js-wait-text"),r=n.querySelectorAll(".js-wait-icon"),t=0,t=0;t<u;t++)i[t].setAttribute("disabled","false"),i[t].removeAttribute("disabled"),i[t].value=i[t].getAttribute("data-original"),f[t].innerHTML=i[t].getAttribute("data-original"),FFAPI.methods.removeClass(r[0],"animation-fade-inSlower"),FFAPI.methods.removeClass(r[0],"icon-loader")};FFAPI.methods.loadingButton=function(n){var i=n.querySelectorAll(".js-wait-text")[0],t=n.querySelectorAll(".js-wait-icon")[0];n.setAttribute("disabled","true");n.value=n.getAttribute("data-loader");i.innerHTML=n.getAttribute("data-loader");FFAPI.methods.addClass(t,"animation-fade-inSlower");FFAPI.methods.addClass(t,"icon-loader")};FFAPI.methods.resetButton=function(n){var i=n.querySelectorAll(".js-wait-text")[0],t=n.querySelectorAll(".js-wait-icon")[0];n.setAttribute("disabled","false");n.removeAttribute("disabled");n.value=n.getAttribute("data-original");i.innerHTML=n.getAttribute("data-original");FFAPI.methods.removeClass(t,"animation-fade-inSlower");FFAPI.methods.removeClass(t,"icon-loader")};FFAPI.methods.initDynFFAPI=function(n,t,i,r){return typeof r=="undefined"&&(r=!1),FFAPI[n]||(FFAPI[n]={}),typeof FFAPI[n][t]=="undefined"||r||console.log("WARNING: Replacing existing variable '"+t+"' of type '"+n+"'!"),FFAPI[n][t]=i,i};FFAPI.methods.getGenderId=function(){var n=249;try{universal_variable.page.contextGenderId!=0&&(n=universal_variable.page.contextGenderId)}catch(t){}return n};FFAPI.methods.fireClickStream=function(n){if(!n)throw"trkIdOrElem param is required";window._fftrkobj&&(isNaN(parseInt(n))?_fftrkobj.extract(jQuery(n)):_fftrkobj.parse(n))};$(document).ready(function(){FFAPI.variables.bodyElement.on("chosen:showing_dropdown",function(n,t){try{FFAPI.methods.fireClickStream(t.chosen.form_field)}catch(i){console.log(i.message)}});FFAPI.variables.bodyElement.on("change","select",function(){try{var n=$(this).find("option:selected");FFAPI.methods.fireClickStream(n)}catch(t){console.log(t.message)}});$("#header-bag-button").click(function(){FFAPI.methods.fireClickStream(this)});$("#header-wishlist-button").click(function(){FFAPI.methods.fireClickStream(this)});FFAPI.variables.bodyElement.on("click","#sliderwishlist .sliderTabs-slide:not(.bx-clone) a.global-button-a",function(){FFAPI.methods.fireClickStream(this)});FFAPI.variables.bodyElement.on("click","#sliderbag .sliderTabs-slide:not(.bx-clone) a.global-button-a",function(){FFAPI.methods.fireClickStream(this)});FFAPI.variables.bodyElement.on("click","#header-tabs-2 .bx-prev,#header-tabs-2 .bx-next",function(){FFAPI.methods.fireClickStream(243)});FFAPI.variables.bodyElement.on("click","#header-tabs-3 .bx-prev,#header-tabs-3 .bx-next",function(){FFAPI.methods.fireClickStream(244)});FFAPI.variables.bodyElement.on("click",".header-tabs-close",function(){FFAPI.methods.fireClickStream(74)})});FFAPI.variables.slideUpSpeed=1e4;FFAPI.methods.elSlideUp=function(n,t){setTimeout(function(){n.slideUp(FFAPI.variables.animationSpeed)},t)};FFAPI.methods.RedirectToLogin=function(){var n=FFAPI.variables.LoginRedirect+"?ru="+location.pathname;window.location.replace(n)};FFAPI.methods.GetUserGenderName=function(){var n=Cookies("usr-gender");return n==="248"?"men":"women"};
/*!
 * hoverintent v0.1.0 (2013-05-20)
 * http://tristen.ca/hoverintent
 * Copyright (c) 2013 ; Licensed MIT
*/
(function(n){var t=function(n,t,i){var e,o,s,h,c={},f=0,r=0,u={sensitivity:7,interval:100,timeout:0},p=function(n){u=k(n||{},u)},k=function(n){for(var r,i,t=1;t<arguments.length;t++){r=arguments[t];for(i in r)n[i]===undefined&&(n[i]=r[i])}return n},l=function(n,t,i){n.attachEvent?(n["e"+t+i]=i,n[t+i]=function(){n["e"+t+i](window.event)},n.attachEvent("on"+t,n[t+i])):n.addEventListener(t,i,!1)},a=function(n,t,i){n.detachEvent?(n.detachEvent("on"+t,n[t+i]),n[t+i]=null):n.removeEventListener(t,i,!1)},d=function(n){e=n.clientX;o=n.clientY},g=function(n,t,i){return r&&(r=clearTimeout(r)),f=0,t.call(n,i)},w=function(t,i,e){var o=function(){d(t)};return r&&(r=clearTimeout(r)),e?(s=t.clientX,h=t.clientY,l(n,"mousemove",o),f!==1&&(r=setTimeout(function(){b(n,i,t)},u.interval))):(a(n,"mousemove",o),f===1&&(r=setTimeout(function(){g(n,i,t)},u.timeout))),this},b=function(n,t,i){if(r&&(r=clearTimeout(r)),Math.abs(s-e)+Math.abs(h-o)<u.sensitivity)return f=1,t.call(n,i);s=e;h=o;r=setTimeout(function(){b(n,t,i)},u.interval)},v,y;return c.options=function(n){p(n)},v=function(n){w(n,t,!0)},y=function(n){w(n,i)},c.remove=function(){n&&(a(n,"mouseover",v),a(n,"mouseout",y))},n&&(l(n,"mouseover",v),l(n,"mouseout",y)),p(),c};n.hoverintent=t;typeof module!="undefined"&&module.exports&&(module.exports=t)})(this);FFAPI.responsive=FFAPI.responsive||{};FFAPI.responsive.mobile=480;FFAPI.responsive.fablet=767;FFAPI.responsive.tablet=1024;FFAPI.responsive.desktop=1440;FFAPI.responsive.loadedHugeImages=!1;FFAPI.responsive.loadedXLImages=!1;FFAPI.responsive.loadedMDImages=!1;FFAPI.responsive.loadedSMImages=!1;FFAPI.responsive.loadedXSImages=!1;FFAPI.responsive.biggerThanXL=!1;FFAPI.responsive.biggerThanMD=!1;FFAPI.responsive.biggerThanSM=!1;FFAPI.responsive.biggerThanXS=!1;FFAPI.responsive.imageXL="1000";FFAPI.responsive.imageMD="800";FFAPI.responsive.imageSM="400";FFAPI.responsive.mediaQuerieHuge=!1;FFAPI.responsive.mediaQuerieXL=!1;FFAPI.responsive.mediaQuerieMD=!1;FFAPI.responsive.mediaQuerieSM=!1;FFAPI.responsive.mediaQuerieXS=!1;FFAPI.responsive.mediaQuerieHeader=!1;FFAPI.responsive.goneSmallQuerie=!1;FFAPI.responsive.goneBigQuerie=!1;$(document).ready(function(){FFAPI.variables.closeMobileJS=document.getElementsByClassName("js-close-mobile");FFAPI.variables.headerNavLi=$(".js-primary-nav");FFAPI.variables.noticeErrorCloseButton=undefined});FFAPI.variables.touchSupported=!1;Modernizr.touch&&(FFAPI.variables.touchSupported=!0);FFAPI.responsive.changeImageSrc=function(n,t){return n.src=t,!0};FFAPI.responsive.cacheAndLoadImage=function(n,t,i){t&&(FFAPI.responsive.isImageCached(t),i(n,t))};FFAPI.responsive.isImageCached=function(n){if(n!=null){var t=document.createElement("img");return t.src=n,t.complete||t.width+t.height>0}return!1};window.matchMedia&&(FFAPI.responsive.mediaQuerieHuge=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.desktop+1)+"px)"),FFAPI.responsive.mediaQuerieXL=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.tablet+1)+"px) and (max-width:"+FFAPI.responsive.desktop+"px)"),FFAPI.responsive.mediaQuerieMD=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.fablet+1)+"px) and (max-width:"+FFAPI.responsive.tablet+"px)"),FFAPI.responsive.goneBigQuerie=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.tablet+1)+"px)"),FFAPI.responsive.fromSmallToBig=FFAPI.responsive.goneBigQuerie,FFAPI.responsive.mediaQuerieSM=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.mobile+1)+"px) and (max-width:"+FFAPI.responsive.fablet+"px)"),FFAPI.responsive.mediaQuerieHeader=window.matchMedia("screen and (min-width: "+(FFAPI.responsive.mobile+1)+"px) and (max-width:"+FFAPI.responsive.fablet+"px)"),FFAPI.responsive.goneSmallQuerie=window.matchMedia("screen and (max-width:"+FFAPI.responsive.tablet+"px)"),FFAPI.responsive.fromBigToSmall=FFAPI.responsive.goneSmallQuerie,FFAPI.responsive.mediaQuerieXS=window.matchMedia("screen and (max-width: "+FFAPI.responsive.mobile+"px)"),FFAPI.responsive.mediaQuerieHugeListener=function(){var t,n;if(FFAPI.responsive.mediaQuerieHuge.matches){for(t=document.getElementsByClassName("responsive"),n=0;n<=t.length-1;n++)FFAPI.methods.hasClass(t[n],"js-blurload")?FFAPI.plugins.blurload.start(t[n],"data-large"):FFAPI.responsive.cacheAndLoadImage(t[n],t[n].getAttribute("data-large"),FFAPI.responsive.changeImageSrc);FFAPI.responsive.loadedHugeImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0;FFAPI.responsive.biggerThanMD=!0;FFAPI.responsive.biggerThanXL=!0}},FFAPI.responsive.mediaQuerieXLListener=function(){var t,n;if(FFAPI.responsive.mediaQuerieXL.matches){for(t=document.getElementsByClassName("responsive"),n=0;n<=t.length-1;n++)FFAPI.methods.hasClass(t[n],"js-blurload")?FFAPI.plugins.blurload.start(t[n],"data-large"):FFAPI.responsive.cacheAndLoadImage(t[n],t[n].getAttribute("data-large"),FFAPI.responsive.changeImageSrc);FFAPI.responsive.loadedXLImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0;FFAPI.responsive.biggerThanMD=!0}},FFAPI.responsive.mediaQuerieMDListener=function(){var t,n;if(FFAPI.responsive.mediaQuerieMD.matches){for(t=document.getElementsByClassName("responsive"),n=0;n<=t.length-1;n++)FFAPI.methods.hasClass(t[n],"js-blurload")?FFAPI.plugins.blurload.start(t[n],"data-medium"):FFAPI.responsive.cacheAndLoadImage(t[n],t[n].getAttribute("data-medium"),FFAPI.responsive.changeImageSrc);FFAPI.responsive.loadedMDImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0}},FFAPI.responsive.mediaQuerieSMListener=function(){var t,n;if(FFAPI.responsive.mediaQuerieSM.matches){for(t=document.getElementsByClassName("responsive"),n=0;n<=t.length-1;n++)FFAPI.methods.hasClass(t[n],"js-blurload")?FFAPI.plugins.blurload.start(t[n],"data-small"):FFAPI.responsive.cacheAndLoadImage(t[n],t[n].getAttribute("data-small"),FFAPI.responsive.changeImageSrc);FFAPI.responsive.loadedSMImages=!0;FFAPI.responsive.biggerThanXS=!0}},FFAPI.responsive.mediaQuerieXSListener=function(){var t,n;if(FFAPI.responsive.mediaQuerieXS.matches){for(t=document.getElementsByClassName("responsive"),n=0;n<=t.length-1;n++)FFAPI.methods.hasClass(t[n],"js-blurload")?FFAPI.plugins.blurload.start(t[n],"data-small"):FFAPI.responsive.cacheAndLoadImage(t[n],t[n].getAttribute("data-small"),FFAPI.responsive.changeImageSrc);FFAPI.responsive.loadedXSImages=!0}},FFAPI.responsive.mediaQuerieLoaderImage=function(n,t,i,r){if(t===!0)for(var f=document.getElementsByClassName("responsive"),e=f.length-1,u=0;u<=e;u++)if(f[u].getAttribute("data-resize")==="false")FFAPI.methods.hasClass(f[u],"js-blurload")&&FFAPI.methods.hasClass(f[u],"js-blurSliderReady")?FFAPI.plugins.blurload.start(f[u],n):FFAPI.methods.hasClass(f[u],"js-blurload")||FFAPI.responsive.cacheAndLoadImage(f[u],f[u].getAttribute(n),FFAPI.responsive.changeImageSrc);else if(i===!1){FFAPI.methods.hasClass(f[u],"js-blurload")&&FFAPI.methods.hasClass(f[u],"js-blurSliderReady")?FFAPI.plugins.blurload.start(f[u],n):FFAPI.methods.hasClass(f[u],"js-blurload")||FFAPI.responsive.cacheAndLoadImage(f[u],f[u].getAttribute(n),FFAPI.responsive.changeImageSrc);switch(r){case"huge":FFAPI.responsive.loadedHugeImages=!0;FFAPI.responsive.loadedXLImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0;FFAPI.responsive.biggerThanMD=!0;break;case"xl":FFAPI.responsive.loadedXLImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0;FFAPI.responsive.biggerThanMD=!0;break;case"md":FFAPI.responsive.loadedMDImages=!0;FFAPI.responsive.biggerThanXS=!0;FFAPI.responsive.biggerThanSM=!0;break;case"sm":FFAPI.responsive.loadedSMImages=!0;FFAPI.responsive.biggerThanXS=!0;break;case"xs":FFAPI.responsive.loadedXSImages=!0}}},FFAPI.responsive.mediaQuerieStartListeners=function(){FFAPI.responsive.mediaQuerieHuge.addListener(function(){FFAPI.responsive.mediaQuerieLoaderImage("data-large",FFAPI.responsive.mediaQuerieHuge.matches,FFAPI.responsive.loadedHugeImages,"huge")});FFAPI.responsive.mediaQuerieXL.addListener(function(){FFAPI.responsive.mediaQuerieLoaderImage("data-large",FFAPI.responsive.mediaQuerieXL.matches,FFAPI.responsive.biggerThanXL,"xl")});FFAPI.responsive.mediaQuerieMD.addListener(function(){FFAPI.responsive.mediaQuerieLoaderImage("data-medium",FFAPI.responsive.mediaQuerieMD.matches,FFAPI.responsive.biggerThanMD,"md")});FFAPI.responsive.mediaQuerieSM.addListener(function(){FFAPI.responsive.mediaQuerieLoaderImage("data-small",FFAPI.responsive.mediaQuerieSM.matches,FFAPI.responsive.biggerThanSM,"sm")});FFAPI.responsive.mediaQuerieXS.addListener(function(){FFAPI.responsive.mediaQuerieLoaderImage("data-xsmall",FFAPI.responsive.mediaQuerieXS.matches,FFAPI.responsive.biggerThanXS,"xs")})},FFAPI.responsive.startImagesLoad=function(){"use strict";FFAPI.responsive.mediaQuerieLoaderImage("data-large",FFAPI.responsive.mediaQuerieHuge.matches,FFAPI.responsive.loadedHugeImages,"huge");FFAPI.responsive.mediaQuerieLoaderImage("data-large",FFAPI.responsive.mediaQuerieXL.matches,FFAPI.responsive.biggerThanXL,"xl");FFAPI.responsive.mediaQuerieLoaderImage("data-medium",FFAPI.responsive.mediaQuerieMD.matches,FFAPI.responsive.biggerThanMD,"md");FFAPI.responsive.mediaQuerieLoaderImage("data-small",FFAPI.responsive.mediaQuerieSM.matches,FFAPI.responsive.biggerThanSM,"sm");FFAPI.responsive.mediaQuerieLoaderImage("data-xsmall",FFAPI.responsive.mediaQuerieXS.matches,FFAPI.responsive.biggerThanXS,"xs")},FFAPI.responsive.mediaQuerieSetValues=function(){"use strict";FFAPI.responsive.startImagesLoad();FFAPI.responsive.mediaQuerieStartListeners()},FFAPI.methods.bindNoticeErrorCloseButton=function(){FFAPI.variables.noticeErrorCloseButton=$(".notice__error span.icon-close");FFAPI.variables.noticeErrorCloseButton.off("click").on("click",function(){$(this).closest(".notice__error").hide();$(this).closest(".notice__error").removeClass("show")})},$(document).ready(function(){FFAPI.methods.bindNoticeErrorCloseButton()}));FFAPI.methods.redirectToSearchResults=function(n,t){var i;(t===undefined||t===null||t===0)&&(t=FFAPI.methods.getGenderId());try{i=FFAPI.header.search.instance.gender[t].alias}catch(e){i=t==248?"men":t==19018?"kids":"women"}var f="/designers-"+i+".aspx",r=location.protocol+"//"+location.host+window.universal_variable.page.subfolder,u=encodeURIComponent(n).replace(/-/g,"%2d").replace(/!/g,"%21");n?$.ajax({type:"GET",url:(typeof globalAsyncReqDomain=="undefined"?"":globalAsyncReqDomain)+window.universal_variable.page.subfolder+"/api/Search/GetStopWords",contentType:"application/json; charset=utf-8",dataType:"json",data:{searchTerm:u,genderId:t},success:function(n){window.location.href=n!=null&&n!=""?n:r+"/shopping/"+i+"/search/items.aspx?q="+u+"&rnd="+Date.now()},error:function(){}}):window.location.href=r+f};FFAPI.responsive.UpdateBagAjaxComplete=function(){var n={};n.id=window.universal_variable.product.id;n.quantity=1;n.unit_price=window.universal_variable.product.unit_sale_price;n.name=window.universal_variable.product.name;$(document).trigger("BagUpdated",n)};FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.blurload={options:{selector:".js-blurload"},start:function(n,t){var i=n.getAttribute(t);this.onLoad(n,i)},onLoad:function(n,t){var i=new Image;i.onload=function(){n.src=t;FFAPI.methods.removeClass(n,"ff-blurload");FFAPI.methods.removeClass(n,"js-blurSliderReady")}.bind(this);i.src=t}};try{FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.scroll={defaultClass:"scroll-to",processedClass:"js-scroll-to",dataTarget:"data-target",dataOffset:"data-offset",header:document.querySelector("header"),headerHeight:0,headerOffset:0,extraOffset:20,animating:!1,list:[],init:function(){for(var t=document.getElementsByClassName(FFAPI.plugins.scroll.defaultClass),n=0;n<t.length;n++)FFAPI.plugins.scroll.bind(t[n]);FFAPI.responsive.on("small xl",this._responsive.bind(this))},to:function(n,t,i){if(n&&!FFAPI.plugins.scroll.animating){if(FFAPI.plugins.scroll._top(n)+t-FFAPI.plugins.scroll.headerOffset==0)if(i)i.call();else return;FFAPI.plugins.scroll.animating=!0;$.Velocity(n,"scroll",{duration:750,offset:t-FFAPI.plugins.scroll.headerOffset,complete:function(){if(FFAPI.plugins.scroll.animating=!1,i)i.call();else return}})}},bind:function(n){return FFAPI.methods.hasClass(n,FFAPI.plugins.scroll.processedClass)?!1:(FFAPI.plugins.scroll.list.push(new Scroll(n)),!0)},_responsive:function(){this.headerHeight=this.header?this.header.offsetHeight:0;this.headerOffset=this.headerHeight+this.extraOffset},_top:function(n){return n.getBoundingClientRect().top}};function Scroll(n){this.el=n;this.target=null;this.offset=0;this._dataAttr();FFAPI.methods.addClass(this.el,FFAPI.plugins.scroll.processedClass);FFAPI.methods.on(this.el,"click",this.onclick.bind(this),!1);return this}Scroll.prototype={_dataAttr:function(){this.target=this.el.hasAttribute(FFAPI.plugins.scroll.dataTarget)?document.getElementById(this.el.getAttribute(FFAPI.plugins.scroll.dataTarget)):document.getElementsByTagName("html")[0];this.el.hasAttribute(FFAPI.plugins.scroll.dataOffset)&&(this.offset=parseInt(this.el.getAttribute(FFAPI.plugins.scroll.dataOffset)))},onclick:function(n){FFAPI.plugins.scroll.to(this.target,this.offset);var t=n?n:window.event;return t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1}}}catch(e){console.log(e);try{window.debug&&console.log(e)}catch(ex){}}try{FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.accordion={defaultPrefix:"accordion",processedClass:"js-accordion",itemSuffix:"-item",itemActiveClass:"active",itemTitleSuffix:"-title",itemContentSuffix:"-content",dataIndex:"data-index",list:{xs:[],sm:[],md:[],xl:[],"only-xl":[]},init:function(){FFAPI.responsive.on("xs",this._goneXS);FFAPI.responsive.on("sm",this._goneSM);FFAPI.responsive.on("md",this._goneMD);FFAPI.responsive.on("xl",this._goneXL)},register:function(n,t){var f=t||FFAPI.plugins.accordion.defaultPrefix,r,i,u;if(n)for(r=n.querySelectorAll("."+f),i=0;i<r.length;i++)u=FFAPI.plugins.accordion._suffix(r[i].className,f),u||(u="xl"),FFAPI.plugins.accordion.bind(r[i],f,u)},get:function(n){if(!n)return null;var t=FFAPI.plugins.accordion._suffix(n.className);return t&&FFAPI.plugins.accordion.list.hasOwnProperty(t)&&FFAPI.plugins.accordion._processed(n)&&n.hasAttribute(FFAPI.plugins.accordion.dataIndex)?FFAPI.plugins.accordion.list[t][parseInt(n.getAttribute(FFAPI.plugins.accordion.dataIndex))]:null},bind:function(n,t,i){if(!FFAPI.plugins.accordion._processed(n)){n.setAttribute(FFAPI.plugins.accordion.dataIndex,FFAPI.plugins.accordion.list[i].length);var r=new Accordion(n,t);return FFAPI.plugins.accordion.list[i].push(r),r}return null},_processed:function(n){return FFAPI.methods.hasClass(n,FFAPI.plugins.accordion.processedClass)},_suffix:function(n,t){var i=t||FFAPI.plugins.accordion.defaultPrefix,r=n.match(""+i+"-("+Object.keys(this.list).join("|")+")");return r?r[0].replace(i+"-",""):null},_goneXL:function(){FFAPI.plugins.accordion._build("xl");FFAPI.plugins.accordion._destroy("md");FFAPI.plugins.accordion._destroy("sm");FFAPI.plugins.accordion._destroy("xs");FFAPI.plugins.accordion._build("only-xl")},_goneMD:function(){FFAPI.plugins.accordion._build("xl");FFAPI.plugins.accordion._build("md");FFAPI.plugins.accordion._destroy("sm");FFAPI.plugins.accordion._destroy("xs");FFAPI.plugins.accordion._destroy("only-xl")},_goneSM:function(){FFAPI.plugins.accordion._build("xl");FFAPI.plugins.accordion._build("md");FFAPI.plugins.accordion._build("sm");FFAPI.plugins.accordion._destroy("xs");FFAPI.plugins.accordion._destroy("only-xl")},_goneXS:function(){FFAPI.plugins.accordion._build("xl");FFAPI.plugins.accordion._build("md");FFAPI.plugins.accordion._build("sm");FFAPI.plugins.accordion._build("xs");FFAPI.plugins.accordion._destroy("only-xl")},_build:function(n){for(var t=0;t<FFAPI.plugins.accordion.list[n].length;t++)FFAPI.plugins.accordion.list[n][t].build()},_destroy:function(n){for(var t=0;t<FFAPI.plugins.accordion.list[n].length;t++)FFAPI.plugins.accordion.list[n][t].destroy()}};function Accordion(n,t){return this.prefix=t,this.el=n,this.activeItem=null,this.items=[],this.collapseActiveItem=this.el.getAttribute("data-collapse")=="false"?!1:!0,this.built=!1,this.opening=!1,this.slideLocked=!1,this.callbacks={toggle:[],slideDown:[],slideUp:[]},this._processItems(),FFAPI.methods.addClass(this.el,FFAPI.plugins.accordion.processedClass),this}Accordion.prototype={toggle:function(n){n>=this.items.length||this._toggle(this.items[n])},slideUp:function(n){var t=this.get(n);t&&this._slideUp(t)},slideDown:function(n){var t=this.get(n);t&&this._slideDown(t)},get:function(n){if(n!==null&&typeof n!="object")return this.items[parseInt(n)];if(!n||!n.hasAttribute(FFAPI.plugins.accordion.dataIndex))return null;var t=parseInt(n.getAttribute(FFAPI.plugins.accordion.dataIndex));return t>=this.items.length?null:this.items[t]},bindClick:function(n){n>=this.items.length||this._bindClick(this.items[n])},build:function(){if(!this.built){for(var n=0;n<this.items.length;n++)this._bindClick(this.items[n]);this.built=!0}},unbindClick:function(n){n>=this.items.length||this._unbindClick(this.items[n])},destroy:function(){if(this.built){this.activeItem&&this._slideUp(this.activeItem);for(var n=0;n<this.items.length;n++)this._unbindClick(this.items[n]);this.built=!1}},setCallback:function(n,t){this.callbacks[n].push(t)},_processItems:function(){for(var t,i=this.el.querySelectorAll("."+this.prefix+FFAPI.plugins.accordion.itemSuffix),n=0;n<i.length;n++)this._valid(i[n])&&(t={el:i[n],idx:n,title:this._itemData(i[n],FFAPI.plugins.accordion.itemTitleSuffix),content:i[n].querySelectorAll("."+this.prefix+FFAPI.plugins.accordion.itemContentSuffix)[0]},t.el.setAttribute(FFAPI.plugins.accordion.dataIndex,n),this.items.push(t),t.el.getAttribute("data-active")&&this._slideDown(t,!0),FFAPI.methods.hasClass(t.el,FFAPI.plugins.accordion.itemActiveClass)&&(this.activeItem=t))},_toggle:function(n,t){var i=t?t:window.event;return(i.preventDefault&&i.preventDefault(),i.returnValue=!1,FFAPI.methods.pointerEvents(t))?!1:(FFAPI.methods.hasClass(n.el,FFAPI.plugins.accordion.itemActiveClass)?(this._trigger("toggle",n,!1),this._slideUp(n)):(this._trigger("toggle",n,!0),this._slideDown(n)),!1)},_slideUp:function(n){if(this.slideLocked){this.slideLocked=!1;return}var t=this;$.Velocity(n.content,"slideUp",{duration:400,display:"none",complete:function(){FFAPI.methods.removeClass(n.el,FFAPI.plugins.accordion.itemActiveClass);n.content.removeAttribute("style");t._trigger("slideUp",n,!1)}});this.activeItem&&n.idx==this.activeItem.idx&&(this.activeItem=null)},_slideDown:function(n,t){if(this.slideLocked){this.slideLocked=!1;return}var i=this;i.collapseActiveItem&&i.opening||(i.collapseActiveItem&&i.activeItem&&i._slideUp(i.activeItem),i.opening=!0,$.Velocity(n.content,"slideDown",{duration:400,display:"inline-block",complete:function(){FFAPI.methods.addClass(n.el,FFAPI.plugins.accordion.itemActiveClass);n.content.removeAttribute("style");!t&&i.collapseActiveItem&&FFAPI.plugins.scroll&&FFAPI.plugins.scroll._top(n.title[0])<FFAPI.plugins.scroll.headerOffset&&FFAPI.plugins.scroll.to(n.title[0],0);i.activeItem=n;i._trigger("slideDown",n,!0);i.opening=!1}}))},_bindClick:function(n){var i=this,t;for(n.toggleHandler||(n.toggleHandler=this._toggle.bind(this,n)),t=0;t<n.title.length;t++)FFAPI.methods.on(n.title[t],"click",n.toggleHandler,!1)},_unbindClick:function(n){for(var t=0;t<n.title.length;t++)FFAPI.methods.off(n.title[t],"click",n.toggleHandler,!1)},_valid:function(n){while(n.parentNode){if(n=n.parentNode,FFAPI.methods.hasClass(n,this.prefix)&&n!=this.el)return!1;if(n==this.el)return!0}return!1},_itemData:function(n,t){for(var r=n.querySelectorAll("."+this.prefix+t),u=[],i=0,f=r.length;i<f&&this._valid(r[i]);i++)u.push(r[i]);return u},_trigger:function(n,t,i){for(var r=0;r<this.callbacks[n].length;r++)this.callbacks[n][r](n,t,i)}}}catch(e){console.log(e);try{window.debug&&console.log(e)}catch(ex){}}try{FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.tabs={defaultClass:"tabs",processedClass:"js-tabs",activeClass:"active",itemTitleClass:"tabs-title",itemContentClass:"tabs-content",dataIndex:"data-index",list:{xs:[],sm:[],md:[],xl:[],"only-xl":[]},init:function(){for(var t,i=document.getElementsByClassName(FFAPI.plugins.tabs.defaultClass),n=0;n<i.length;n++)t=FFAPI.plugins.tabs._suffix(i[n].className),t||(t="xl"),FFAPI.plugins.tabs.bind(i[n],t);FFAPI.plugins.tabs._goneXS();FFAPI.responsive.mediaQuerieXS.addListener(FFAPI.plugins.tabs._goneXS);FFAPI.plugins.tabs._goneSM();FFAPI.responsive.mediaQuerieSM.addListener(FFAPI.plugins.tabs._goneSM);FFAPI.plugins.tabs._goneMD();FFAPI.responsive.mediaQuerieMD.addListener(FFAPI.plugins.tabs._goneMD);FFAPI.plugins.tabs._goneXL();FFAPI.responsive.goneBigQuerie.addListener(FFAPI.plugins.tabs._goneXL);window.onhashchange=function(){FFAPI.plugins.tabs.hashHandler(FFAPI.methods.urlHash())}},get:function(n){if(!n)return null;var t=FFAPI.plugins.tabs._suffix(n.className);return t&&FFAPI.plugins.tabs.list.hasOwnProperty(t)&&FFAPI.plugins.tabs._processed(n)&&n.hasAttribute(FFAPI.plugins.tabs.dataIndex)?FFAPI.plugins.tabs.list[t][parseInt(n.getAttribute(FFAPI.plugins.tabs.dataIndex))]:null},bind:function(n,t){FFAPI.plugins.tabs._processed(n)||(n.setAttribute(FFAPI.plugins.tabs.dataIndex,FFAPI.plugins.tabs.list[t].length),FFAPI.plugins.tabs.list[t].push(new Tabs(n)))},hashHandler:function(n){var i=n.split("-")[0],t=FFAPI.plugins.tabs.get(document.getElementById(i));t&&t.built&&t.show(document.getElementById(n))},_processed:function(n){return FFAPI.methods.hasClass(n,FFAPI.plugins.tabs.processedClass)},_suffix:function(n){var t=n.match(""+FFAPI.plugins.tabs.defaultClass+"-[a-z-]+");return t?t[0].replace(FFAPI.plugins.tabs.defaultClass+"-",""):null},_goneXL:function(){!FFAPI.responsive.mediaQuerieMD.matches&&FFAPI.responsive.goneBigQuerie.matches&&(FFAPI.plugins.tabs._build("xl"),FFAPI.plugins.tabs._destroy("md"),FFAPI.plugins.tabs._destroy("sm"),FFAPI.plugins.tabs._destroy("xs"),FFAPI.plugins.tabs._build("only-xl"))},_goneMD:function(){FFAPI.responsive.mediaQuerieMD.matches&&(FFAPI.plugins.tabs._build("xl"),FFAPI.plugins.tabs._build("md"),FFAPI.plugins.tabs._destroy("sm"),FFAPI.plugins.tabs._destroy("xs"),FFAPI.plugins.tabs._destroy("only-xl"))},_goneSM:function(){FFAPI.responsive.mediaQuerieSM.matches&&(FFAPI.plugins.tabs._build("xl"),FFAPI.plugins.tabs._build("md"),FFAPI.plugins.tabs._build("sm"),FFAPI.plugins.tabs._destroy("xs"),FFAPI.plugins.tabs._destroy("only-xl"))},_goneXS:function(){FFAPI.responsive.mediaQuerieXS.matches&&(FFAPI.plugins.tabs._build("xl"),FFAPI.plugins.tabs._build("md"),FFAPI.plugins.tabs._build("sm"),FFAPI.plugins.tabs._build("xs"),FFAPI.plugins.tabs._destroy("only-xl"))},_build:function(n){for(var t=0;t<FFAPI.plugins.tabs.list[n].length;t++)FFAPI.plugins.tabs.list[n][t].build()},_destroy:function(n){for(var t=0;t<FFAPI.plugins.tabs.list[n].length;t++)FFAPI.plugins.tabs.list[n][t].destroy()}};function Tabs(n){return this.el=n,this.activeItem=null,this.items=[],this.built=!1,this.opening=!1,this.urlHash=FFAPI.methods.urlHash(),this.callbacks={show:[],hide:[]},this._processItems(),FFAPI.methods.addClass(this.el,FFAPI.plugins.tabs.processedClass),this}Tabs.prototype={show:function(n){if(n!==null&&typeof n!="object"&&this._show(this.items[parseInt(n)]),n&&n.hasAttribute(FFAPI.plugins.tabs.dataIndex)){var t=parseInt(n.getAttribute(FFAPI.plugins.tabs.dataIndex));t>=this.items.length||this._show(this.items[t])}},bindClick:function(n){n>=this.items.length||this._bindClick(this.items[n])},build:function(){var t,i,n;if(!this.built){for(t=null,i=!1,n=0;n<this.items.length;n++)this._bindClick(this.items[n]),(!this.urlHash&&this.items[n].el.getAttribute("data-active")||this.urlHash===this.items[n].hash)&&(this._show(this.items[n],!0),i=!0),this.items[n].el.getAttribute("data-active")&&(t=this.items[n]);!this.hasActiveItem&&t&&this._show(t,!0);this.built=!0}},unbindClick:function(n){n>=this.items.length||this._unbindClick(this.items[n])},destroy:function(){if(this.built){this.activeItem&&this._hide(this.activeItem);for(var n=0;n<this.items.length;n++)this._unbindClick(this.items[n]);this.built=!1}},setCallback:function(n,t){this.callbacks[n].push(t)},_processItems:function(){for(var t,r,i=this.el.getElementsByClassName(FFAPI.plugins.tabs.itemTitleClass),n=0;n<i.length;n++)t=i[n].href,t||(t=i[n].getElementsByTagName("a")[0].href),t=FFAPI.methods.urlHash(t),r={el:i[n],idx:n,hash:t,content:document.getElementById(t)},r.el.setAttribute(FFAPI.plugins.tabs.dataIndex,n),r.content.setAttribute(FFAPI.plugins.tabs.dataIndex,n),this.items.push(r)},_toggle:function(n,t){FFAPI.methods.hasClass(n.el,FFAPI.plugins.tabs.activeClass)||this._show(n);var i=t?t:window.event;return i.preventDefault&&i.preventDefault(),i.returnValue=!1,!1},_hide:function(n){var t=this;$.Velocity(n.content,{opacity:0},{duration:0,display:"none",complete:function(){FFAPI.methods.removeClass(n.el,FFAPI.plugins.tabs.activeClass);FFAPI.methods.removeClass(n.content,FFAPI.plugins.tabs.activeClass);n.content.removeAttribute("style");for(var i=0;i<t.callbacks.hide.length;i++)t.callbacks.hide[i]("hide",n)}})},_show:function(n){var t=this;t.opening||(t.activeItem&&t._hide(t.activeItem),t.opening=!0,$.Velocity(n.content,{opacity:1},{duration:0,display:"inline-block",complete:function(){FFAPI.methods.addClass(n.el,FFAPI.plugins.tabs.activeClass);FFAPI.methods.addClass(n.content,FFAPI.plugins.tabs.activeClass);n.content.removeAttribute("style");t.activeItem=n;t.opening=!1;for(var i=0;i<t.callbacks.show.length;i++)t.callbacks.show[i]("show",n)}}))},_bindClick:function(n){n.toggleHandler||(n.toggleHandler=this._toggle.bind(this,n));document.addEventListener?n.el.addEventListener("click",n.toggleHandler):n.el.attachEvent("onclick",n.toggleHandler)},_unbindClick:function(n){document.removeEventListener?n.el.removeEventListener("click",n.toggleHandler):n.el.detachEvent("onclick",n.toggleHandler)}}}catch(e){console.log(e);try{window.debug&&console.log(e)}catch(ex){}}try{FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.searchClear={defaultClass:"js-search-clear",triggerClass:"js-sc-trigger",inputClass:"js-sc-input",processedClass:"js-sc-active",listeners:{clear:[]},init:function(){for(var t=document.getElementsByClassName(this.defaultClass),n=0;n<t.length;n++)this.bind(t[n])},bind:function(n){var t=n.querySelector("."+this.triggerClass);if(input=n.querySelector("."+this.inputClass),!this._processed(n)&&t&&input){FFAPI.methods.on(t,"click",this.onClick.bind(this,t,input),!1);FFAPI.methods.on(input,"keyup",this.onInput.bind(this,t,input),!1)}},onClick:function(n,t,i){t.value="";t.focus();FFAPI.methods.addClass(n,"hide");this.trigger("clear",n,t);var r=i?i:window.event;return r.preventDefault&&r.preventDefault(),r.returnValue=!1,!1},onInput:function(n,t,i){var r=i?i:window.event;if(r.keyCode===27)this.onClick(n,t,i);else FFAPI.methods[t.value.length>0?"removeClass":"addClass"](n,"hide")},on:function(n,t){this.listeners[n]&&this.listeners[n].push(t)},trigger:function(n){for(var t=0,i=this.listeners[n].length;t<i;t++)this.listeners[n][t].apply(null,Array.prototype.slice.call(arguments))},_processed:function(n){return FFAPI.methods.hasClass(n,this.processedClass)}}}catch(e){console.log(e);try{window.debug&&console.log(e)}catch(ex){}}FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.persistentTooltip={container:{el:null,width:390,height:0,arrowRight:"",arrowLeft:"",closeTooltip:"",goButton:"",href:"",tittle:""},click:(Modernizr.touch?"touchstart ":"")+"click",goButtonSelector:"go-link",tooltipMask:document.querySelector(".persistent-body-mask"),closeButtonClass:"close-tooltip",anchorSelector:"open-persistent-tooltip",anchorElement:"",anchorHref:"",offset:5,isTooltipEl:!1,isMobile:!1,breakpoint:FFAPI.responsive.fablet,defaultBackgroundColor:"bgcolor-white",backgroundColor:"",urlSuffix:"",position:null,getRectangle:function(n){return n.getBoundingClientRect()},checkWindowInnerWidth:function(){this.isMobile=window.innerWidth>this.breakpoint?!1:!0},setTooltipWidth:function(){this.isMobile||(this.container.el.style.width=this.container.width+"px")},checkElement:function(n){var t,i;if(n&&(t=n.target,n.target)){while(t&&this.container.el!=t&&!FFAPI.methods.hasClass(t,this.anchorSelector)&&!FFAPI.methods.hasClass(t,this.closeButtonClass)&&!FFAPI.methods.hasClass(t,this.goButtonSelector))t=t.parentNode;if(i=null,FFAPI.methods.hasClass(t,this.anchorSelector)&&(i=t.getAttribute("data-gender")),FFAPI.methods.hasClass(t,this.anchorSelector)&&i!=FFAPI.variables.onLoadGender)return i==FFAPI.variables.genderMen?(this.container.goButton.textContent=FFAPI.translations.toolTipGender_Men_Button,this.container.tittle.textContent=FFAPI.translations.toolTipGender_Men_Tittle):i==FFAPI.variables.genderWomen?(this.container.goButton.textContent=FFAPI.translations.toolTipGender_Women_Button,this.container.tittle.textContent=FFAPI.translations.toolTipGender_Women_Tittle):(this.container.goButton.textContent=FFAPI.translations.toolTipGender_Kids_Button,this.container.tittle.textContent=FFAPI.translations.toolTipGender_Kids_Tittle),this.isTooltipEl=!0,this.checkWindowInnerWidth(),this.setTooltipWidth(),this.applyBgColor(),this.anchorElement=t,this.anchorHref=this.anchorElement.getAttribute("href"),this.anchorGenderId=this.anchorElement.getAttribute("data-gender"),this.container.goButton.setAttribute("href",this.anchorHref+this.urlSuffix),this.container.goButton.setAttribute("data-gender",this.anchorGenderId),this.checkSpaceForTooltip(),n.preventDefault&&n.preventDefault(),n.returnValue=!1,!1;if(FFAPI.methods.hasClass(this.container.el,"visible")){if(typeof _fftrkobj!="undefined"&&_fftrkobj.parse("384"),FFAPI.methods.hasClass(t,this.closeButtonClass))return this.hideTooltip(),n.preventDefault&&n.preventDefault(),n.returnValue=!1,!1;for(t;t;t=t.parentNode)if(t==this.container.el)return;this.hideTooltip()}else FFAPI.methods.hasClass(t,this.goButtonSelector)&&this.ChangeGender(t)}},checkSpaceForTooltip:function(){if(this.isTooltipEl&&this.isMobile)FFAPI.methods.removeClass(this.tooltipMask,"hide"),this.setTooltipPosition();else if(this.isTooltipEl&&!this.isMobile){var n=Math.round(this.getRectangle(this.anchorElement).left),t=Math.round(this.getRectangle(this.anchorElement).top),i=document.body.scrollTop||document.documentElement.scrollTop,r=n+FFAPI.methods.getElementWidth(this.anchorElement)+this.container.width+35;this.setTooltipPosition(n,t,i,r)}},setTooltipPosition:function(n,t,i,r){var f=FFAPI.methods.getElementHeight(document.querySelector("header")),u;this.isMobile?FFAPI.methods.addClass(this.container.el,"mobile"):(u=FFAPI.methods.getElementHeight(this.anchorElement),this.position==null||this.isMobile?(r>window.innerWidth?this.placeTooltipLeft(n):this.placeTooltipRight(n),this.container.el.style.top=t+i-this.container.height/2+u/2+this.offset+"px"):this.placeTooltip());this.showTooltip()},placeTooltip:function(){if(this.container.el.style.width="100%",this.container.el.style.maxWidth="390px",this.container.el.style.bottom="160%",this.container.el.style.top="auto",this.container.el.style.left="0",this.container.el.style.right="0",this.container.el.style.marginLeft="0px",!this.anchorElement||!this.anchorElement.querySelector(".js-tooltipArrow")){var n=document.createElement("span");n.className="js-tooltipArrow ff-pdpArrow glyphs arrow_bottom bgcolor-off-white show";this.anchorElement.appendChild(n);this.anchorElement.style.position="relative"}},resetPosition:function(){if(this.container.el.removeAttribute("style"),this.anchorElement.nodeType){var n=this.anchorElement.querySelector(".js-tooltipArrow");n&&n.nodeType&&n.parentNode.removeChild(n)}},placeTooltipLeft:function(n){this.container.el.style.left=n-(this.container.width+this.offset+20)+"px";FFAPI.methods.addClass(this.container.arrowRight,"show");FFAPI.methods.removeClass(this.container.arrowLeft,"show")},placeTooltipRight:function(n){this.container.el.style.left=n+FFAPI.methods.getElementWidth(this.anchorElement)+this.offset+"px";FFAPI.methods.addClass(this.container.arrowLeft,"show");FFAPI.methods.removeClass(this.container.arrowRight,"show")},showTooltip:function(){FFAPI.methods.hasClass(this.container.el,"visible")||(typeof _fftrkobj!="undefined"&&_fftrkobj.parse("383"),FFAPI.methods.addClass(this.container.el,"visible"),$.Velocity(this.container.el,"fadeIn",{display:"block",duration:FFAPI.variables.animationSpeed}),this.isMobile&&($.Velocity(this.tooltipMask,"fadeIn",{display:"block",duration:FFAPI.variables.animationSpeed}),FFAPI.methods.removeClass(this.tooltipMask,"hide")))},hideTooltip:function(){FFAPI.methods.hasClass(this.container.el,"visible")&&(this.position!=null&&this.resetPosition(),this.isMobile&&($.Velocity(this.tooltipMask,"fadeOut",{display:"none",duration:FFAPI.variables.animationSpeed}),FFAPI.methods.addClass(this.tooltipMask,"hide")),$.Velocity(this.container.el,"fadeOut",{display:"none",duration:0}),$.Velocity(this.tooltipMask,"fadeOut",{display:"none",duration:FFAPI.variables.animationSpeed}),this.position===null&&this.setTooltipPosition(0,0),FFAPI.methods.removeClass(this.container.el,"visible"),FFAPI.methods.removeClass(this.container.el,"mobile"),FFAPI.methods.addClass(this.tooltipMask,"hide"),FFAPI.methods.addClass(this.container.el,"hide"),this.anchorElement="",this.isMobile=!1)},bind:function(n){FFAPI.methods.on(n,this.click,this.checkElement.bind(this),!0)},getTooltipInfo:function(){this.setTooltipWidth();FFAPI.methods.addClass(this.container.el,"hidden");FFAPI.methods.removeClass(this.container.el,"hide");this.container.arrowRight=this.container.el.querySelector(".arrow_right");this.container.arrowLeft=this.container.el.querySelector(".arrow_left");this.container.closeTooltip=this.container.el.querySelectorAll(".close-tooltip");this.container.goButton=this.container.el.querySelector(".go-link");this.container.tittle=this.container.el.querySelector(".mb20");this.container.height=FFAPI.methods.getElementHeight(this.container.el);FFAPI.methods.removeClass(this.container.el,"hidden");FFAPI.methods.addClass(this.container.el,"hide")},closeTooltipOnEsc:function(n){var n=n||window.event,t=n.keyCode||n.which;t===FFAPI.keycode.escape&&this.hideTooltip()},applyBgColor:function(){this.backgroundColor===""||this.isMobile?(FFAPI.methods.removeClass(this.container.el,this.backgroundColor),FFAPI.methods.addClass(this.container.el,this.defaultBackgroundColor)):(FFAPI.methods.removeClass(this.container.el,this.defaultBackgroundColor),FFAPI.methods.addClass(this.container.el,this.backgroundColor),FFAPI.methods.addClass(this.container.arrowLeft,this.backgroundColor),FFAPI.methods.addClass(this.container.arrowRight,this.backgroundColor))},ChangeGender:function(n){var t=n.getAttribute("data-gender");t!==undefined&&Cookies(FFAPI.variables.CookieName)!==t&&Cookies.set(FFAPI.variables.CookieName,t);return},init:function(n){if(this.container.el=document.querySelector(".persistent-tooltip"),this.container.el){FFAPI.methods.extend(this,n);FFAPI.methods.on(window,"keydown",this.closeTooltipOnEsc.bind(this));this.checkWindowInnerWidth();this.getTooltipInfo();this.bind(document);$(window).smartresize(this.hideTooltip.bind(this))}}};$(function(){function n(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++)if(t=u[i].trim(),t.indexOf(r)==0)return t.substring(r.length,t.length);return""}$(document).on("universal_variable.user",function(){var a,v,t,r,c,l;if(document.location.href.indexOf("ff_debug")>0||n("ff_debug")==1){if(a="<style>   #ffDebuggerWrapper {       padding: 0;       margin: 0;       position: fixed;       right: 0;       top: 0;       bottom: 0;       width: 300px;       z-index: 99999;       background: #F0F0F0;       border-left: 2px solid grey;   }   #ffDebuggerHeader {       position: absolute;       top: 0;       height: 40px;       overflow: hidden;       background: grey;       width: 100%;       display: table;   }       #ffDebuggerHeader a {           cursor: pointer;           display: table-cell;           width: 40px;           height: 40px;       }       #ffDebuggerHeader a:hover {               background: #ddd;       }           #ffDebuggerHeader a div {               background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAIjSURBVHja7JfPS1VREMc/n+vrB2qilOQiEjfu+rHSok21CgokaBvtiv6GNm4CadXKVaGrFkFgENHGNKlFi8BAA4PSVxCFtbOIQqaF54E9rvrS63sEDgz33nPmnPmemfnO4RIR5Grf4VEgNqNr7pmjGXnS3z0KXKEOUqpy3A7crpfzvwGsOJ8EjlFHyRrpfAVAf/dxYLoRzgFKdxaXhtqasnlgPmd+crsBmKiTKxFhfWqggbIDoOEA1i1C4EyN+yxExMJmQUQBOvgvF9DGl9FOEf6PANRqHciy7F6WZa1Zlj1U+3NsiitCYBdwCtgLNKvv1DJwVP2tjifWdQAn0vuGNDxdYwDKQJc6FREX1WlgDmgGvgOtajkieiPiqjoUEUeA+dK6/Ix4Vmv4gd4Uhc6I6FCb0wFb016dEbEP6AJaErj1U1Arl5P0qEvqG/W+Gjk6on5WF1IqCgWAOqD+WMN5Rb+oJ7eDBe3AU2BmA9MXwIzaVlgE1EF1Qf2qLq867SdgMKWmMvYr2b0Frm8ZQDr9slpWZ6vCPZXm31eNv1K/qYtbTkECkUXEcETcrW50akvOmpvAGHCgVFAJjAETQE+N9h+Bx4m2hbFgv/qyKtTP1ZacFDyq/BQVyYJrQF9EDAMf0vDu1Iz2pO/XETECnAcuFX0bHkzPGxFxDhhX59Sf6izwICIuALeSXWfRjegy8KTSelNUmrIsQ11da4fUCeAswJ8BAPKiDYyty2jDAAAAAElFTkSuQmCC) no-repeat center;               width: 40px;               height: 40px;           }       #ffDebuggerHeader h2 {           display: table-cell;           line-height: 40px;           vertical-align: middle;           text-align: center;       }   #ffDebuggerTypeDrop {       width: 100%;       padding: 5px;       font-weight: bold;       position: absolute;       top: 40px;   }   #ffDebuggerBody {       position: absolute;       top: 74px;       bottom: 0;       overflow: auto;       width: 100%;   }   #ffDebuggerBody .ffDebuggerBodyContainer {       padding: 5px;   } #ffDebuggerBody input{-webkit-appearance: checkbox;}   #ffDebuggerWrapper.ffDebuggerHidden {       width: 40px;       height: 40px;       border: none;   }   #ffDebuggerWrapper.ffDebuggerHidden #ffDebuggerBody,   #ffDebuggerWrapper.ffDebuggerHidden #ffDebuggerTypeDrop,   #ffDebuggerWrapper.ffDebuggerHidden #ffDebuggerHeader h2 {       display: none;   }   #ffDebuggerWrapper.ffDebuggerHidden #ffDebuggerHeader a {           background: #F0F0F0;   }   #ffDebuggerWrapper.ffDebuggerHidden #ffDebuggerHeader a:hover {           background: #ddd;   }<\/style>",v="<div id='ffDebuggerWrapper' "+(n("ff_debug_open")==1?"":"class='ffDebuggerHidden'")+">   <div id='ffDebuggerHeader'>       <h2>Farfetch Debugger<\/h2>       <a href='javascript:document.ff_debug.toogle();'>           <div><\/div>       <\/a>   <\/div>   <select id='ffDebuggerTypeDrop'><\/select>   <div id='ffDebuggerBody'>   <\/div><\/div>",document.ff_debug={wrapper:$(v),toogle:function(){document.ff_debug.wrapper.hasClass("ffDebuggerHidden")?(document.ff_debug.wrapper.removeClass("ffDebuggerHidden"),document.cookie="ff_debug_open=1;path=/"):(document.ff_debug.wrapper.addClass("ffDebuggerHidden"),document.cookie="ff_debug_open=0;path=/")},translations:{toggleHighlight:function(){$(this).is(":checked")?($("body").highlight("NO_TRAD"),$("[value*=NO_TRAD],[placeholder*=NO_TRAD],[text*=NO_TRAD]").css("border","2px solid red")):($("body").removeHighlight("NO_TRAD"),$("[value*=NO_TRAD],[placeholder*=NO_TRAD],[text*=NO_TRAD]").css("border","none"))}},clickstream:{toggleTracking:function(){$(this).is(":checked")?$("[trk]").each(function(){$(this).css("color","orange");$(this).attr("alt",$(this).attr("trk"));$(this).attr("title",$(this).attr("trk"))}):$("[trk]").each(function(){$(this).css("color","black");$(this).attr("alt","");$(this).attr("title","")})}},flatContent:{toggleTracking:function(){$(this).is(":checked")?$("[data-flat]").each(function(){$(this).css("border","2px solid red");$(this).attr("alt",$(this).attr("data-flat"));$(this).attr("title",$(this).attr("data-flat"))}):$("[data-flat]").each(function(){$(this).css("border","none");$(this).attr("alt","");$(this).attr("title","")})},flatIdentityOn:function(){var n=$(this).data("flat-id");$("[data-flat='"+n+"']").addClass("identifyOn")},flatIdentityOff:function(){var n=$(this).data("flat-id");$("[data-flat='"+n+"']").removeClass("identifyOn")}}},document.ff_debug.typeDrop=document.ff_debug.wrapper.find("#ffDebuggerTypeDrop"),document.ff_debug.body=document.ff_debug.wrapper.find("#ffDebuggerBody"),document.ff_debug.typeDrop.change(function(){var n=$(this).find("option:selected");$(".ffDebuggerBodyContainer").hide();$("#ffDebuggerContainer_"+n.val()).show();document.cookie="ff_debug_type="+n.val()+";path=/"}),document.ff_debug.wrapper.prepend(a),document.ff_debug.typeDrop.append("<option value='subfolder'>Subfolder<\/option>"),t=$("<div id='ffDebuggerContainer_subfolder' class='ffDebuggerBodyContainer'>"),t.append("<h4 style='text-align: center; margin: 10px 0;'>Universial Variable Status<\/h4>"),t.append("<p><b>Current Subfolder: <\/b>"+window.universal_variable.page.subfolder+"<\/p><hr style='margin: 3px 0;'>"),t.append("<p><b>User Subfolder: <\/b>"+window.universal_variable.user.userSubfolder+"<\/p><hr style='margin: 3px 0;'>"),t.append("<p><b>Geo Subfolder: <\/b>"+window.universal_variable.user.geoSubfolder+"<\/p><hr style='margin: 3px 0;'>"),t.append("<p><b>Ip: <\/b>"+window.universal_variable.user.ip+"<\/p><hr style='margin: 3px 0;'>"),r=$("a[href]"),r.length>0){var i,u=[],f=[],e=[],o=[],s=[],h=[];t.append("<h4 style='text-align: center; margin: 10px 0;'>Links<\/h4>");r.sort(function(n,t){return $(n).attr("href")>$(t).attr("href")?1:-1});r.each(function(n,t){var r=$(t),i=r.attr("href");i.indexOf(window.universal_variable.page.subfolder)==0?e.push(t):i.indexOf("#")!=0&&i?i.indexOf("javascript")==0?h.push(t):r.attr("data-ignore")?u.push(t):i.indexOf("http://")==0||i.indexOf("https://")==0?o.push(t):f.push(t):s.push(t)});t.append("<h5 style='text-align: right; margin: 10px 0;'>Errors<\/h5>");i=$("<ul>");f.length?$.each(f,function(n,t){i.append("<li>"+$(t).attr("href")+"<\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No errors found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i);t.append("<h5 style='text-align: right; margin: 10px 0;'>Subfolders<\/h5>");i=$("<ul>");e.length?$.each(e,function(n,t){i.append("<li><a href='"+$(t).attr("href")+"'>"+$(t).attr("href")+"<\/a><\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No sulfolder links found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i);t.append("<h5 style='text-align: right; margin: 10px 0;'>Data-ignore<\/h5>");i=$("<ul>");u.length?$.each(u,function(n,t){i.append("<li>"+$(t).attr("href")+"<\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No data-ignore links found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i);t.append("<h5 style='text-align: right; margin: 10px 0;'>Full Url<\/h5>");i=$("<ul>");o.length?$.each(o,function(n,t){i.append("<li>"+$(t).attr("href")+"<\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No data-ignore links found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i);t.append("<h5 style='text-align: right; margin: 10px 0;'>Anchors<\/h5>");i=$("<ul>");s.length?$.each(s,function(n,t){i.append("<li>"+$(t).attr("href")+"<\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No anchors links found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i);t.append("<h5 style='text-align: right; margin: 10px 0;'>Javascript<\/h5>");i=$("<ul>");h.length?$.each(h,function(n,t){i.append("<li>"+$(t).attr("href")+"<\/li><hr style='margin: 3px 0;'>")}):i.append("<li><i>No javascript execution links found<\/i><\/li><hr style='margin: 3px 0;'>");t.append(i)}else t.append("<i style='text-align: center;'>No links found on page<\/i>");document.ff_debug.body.append(t);document.ff_debug.typeDrop.append("<option value='metatag'>Metatag<\/option>");t=$("<div id='ffDebuggerContainer_metatag' class='ffDebuggerBodyContainer' style='display: none;'>");t.append("<h4 style='text-align: center; margin: 10px 0;'>Metatags<\/h4>");c=$("meta");c.length>0?(i=$("<ul>"),c.each(function(n,t){var r="<li>";$.each(t.attributes,function(n,t){t.specified&&(r+="<b>"+t.name+": <\/b> "+t.value+";")});r+="<\/li><hr style='margin: 3px 0;'>";i.append(r)}),t.append(i)):t.append("<i style='text-align: center;'>No metatags found on page<\/i>");document.ff_debug.body.append(t);document.ff_debug.typeDrop.append("<option value='h1'>H1<\/option>");t=$("<div id='ffDebuggerContainer_h1' class='ffDebuggerBodyContainer' style='display: none;'>");t.append("<h4 style='text-align: center; margin: 10px 0;'>H1<\/h4>");l=$("h1");l.length>0?(i=$("<ul>"),l.each(function(n,t){i.append("<li>"+$(t).text()+"<\/li><hr style='margin: 3px 0;'>")}),t.append(i)):t.append("<i style='text-align: center;'>No h1 found on page<\/i>");document.ff_debug.body.append(t);document.ff_debug.typeDrop.append("<option value='Trans'>Translations<\/option>");t=$("<div id='ffDebuggerContainer_Trans' class='ffDebuggerBodyContainer' style='display: none;'>");t.append("<h4 style='text-align: center; margin: 10px 0;'>Translations<\/h4>");t.append("<div><input type='checkbox'/> Highlight no Trad<\/div>");t.find("input[type=checkbox]").change(document.ff_debug.translations.toggleHighlight);document.ff_debug.body.append(t);document.ff_debug.typeDrop.append("<option value='ClkStream'>ClickStream<\/option>");t=$("<div id='ffDebuggerContainer_ClkStream' class='ffDebuggerBodyContainer' style='display: none;'>");t.append("<h4 style='text-align: center; margin: 10px 0;'>ClickStream<\/h4>");t.append("<div><input type='checkbox'/> Color Clickstream Events<\/div>");t.find("input[type=checkbox]").change(document.ff_debug.clickstream.toggleTracking);document.ff_debug.body.append(t);document.ff_debug.typeDrop.append("<option value='fltContent'>Flat Contents<\/option>");t=$("<div id='ffDebuggerContainer_fltContent' class='ffDebuggerBodyContainer' style='display: none;'>");t.append("<h4 style='text-align: center; margin: 10px 0;'>Flat Content<\/h4><style> .identifyOn{border:2px solid yellow !important;} <\/style>");t.append("<div><input type='checkbox'/>View Flat Content<\/div>");t.find("input[type=checkbox]").change(document.ff_debug.flatContent.toggleTracking);$("[data-flat]").each(function(){t.append("<div class='flatId' data-flat-id='"+$(this).attr("data-flat")+"' >"+$(this).attr("data-flat")+"<\/div>");t.append("<\/br>")});t.find(".flatId").hover(document.ff_debug.flatContent.flatIdentityOn);t.find(".flatId").mouseout(document.ff_debug.flatContent.flatIdentityOff);document.ff_debug.body.append(t);document.ff_debug.wrapper.appendTo("body");n("ff_debug_type")&&document.ff_debug.typeDrop.val(n("ff_debug_type")).change()}})});jQuery.fn.highlight=function(n){function t(n,i){var f=0,e,r,u;if(n.nodeType==3)e=n.data.toUpperCase().indexOf(i),e>=0&&(r=document.createElement("span"),r.className="highlight",r.style.border="2px solid red",r.appendChild(n.cloneNode(!0)),n.parentNode.replaceChild(r,n),f=1);else if(n.nodeType==1&&n.childNodes&&!/(script|style)/i.test(n.tagName))for(u=0;u<n.childNodes.length;++u)u+=t(n.childNodes[u],i);return f}return this.length&&n&&n.length?this.each(function(){t(this,n.toUpperCase())}):this};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()};FFAPI.notifications=FFAPI.notifications||{};FFAPI.notifications.errorTemplateUrl="/static/js/ajax/notifications_error.html";FFAPI.notifications.init=function(){FFAPI.notifications.notifications_container=$("#notifications_container")};FFAPI.notifications.addErrorMessage=function(n,t){FFAPI.notifications.setErrorMessage(n,t,!0)};FFAPI.notifications.removeErrorMessage=function(n){var t=FFAPI.notifications.notifications_container,i=t.find(".container"),r;i.length>0&&n!=undefined&&(n="errId_"+n,i.find("."+n).remove(),r=t.find(".field").length,r==0&&t.empty())};FFAPI.notifications.clearErrors=function(){var n=FFAPI.notifications.notifications_container;n.empty()};FFAPI.notifications.setErrorMessage=function(n,t,i){var r=FFAPI.notifications.notifications_container;r.length>0&&$.get(FFAPI.notifications.errorTemplateUrl,function(r){var r=Hogan.compile(r),f="",e,s,h,o,c,u;t==undefined?f=r.render({Message:n}):(t="errId_"+t,f=r.render({Message:n,ErrorId:t}));e=document.getElementsByClassName("notice__info");e!=null&&e.length>0&&(bannerMessageElement=e[0],s=bannerMessageElement.parentElement,h=bannerMessageElement.innerText!=undefined?bannerMessageElement.innerText.trim():"",h==""&&s!=null&&FFAPI.methods.addClass(s,"hide"));o=FFAPI.notifications.notifications_container;c=o.find(".field").length;i!==!0||c==0?o.html(f):(u=o.find(".container"),u.length>0&&(t!=undefined&&u.find("."+t).remove(),$(f).find(".field").appendTo(u),u.parent().removeClass("hide").show()));$(document).scrollTop(0);FFAPI.methods.bindNoticeErrorCloseButton()})};FFAPI.notifications.init();FFAPI=FFAPI||{};FFAPI.methods=FFAPI.methods||{};FFAPI.methods.newsletter=FFAPI.methods.newsletter||{};FFAPI.variables=FFAPI.variables||{};FFAPI.variables.newsletter=FFAPI.variables.newsletter||{};FFAPI.variables.newsletter.SelectedDesigners=[];FFAPI.variables.newsletter.SelectedCategories=[];FFAPI.methods.newsletter.addDesigner=function(n){return FFAPI.variables.newsletter.SelectedDesigners.indexOf(n)==-1?(FFAPI.variables.newsletter.SelectedDesigners.push(n),!0):!1};FFAPI.methods.newsletter.removeDesigner=function(n){var t=FFAPI.variables.newsletter.SelectedDesigners.indexOf(n);return t!=-1?(FFAPI.variables.newsletter.SelectedDesigners.splice(t,1),!0):!1};FFAPI.methods.newsletter.addCategory=function(n){return FFAPI.variables.newsletter.SelectedCategories.indexOf(n)==-1?(FFAPI.variables.newsletter.SelectedCategories.push(n),!0):!1};FFAPI.methods.newsletter.removeCategory=function(n){var t=FFAPI.variables.newsletter.SelectedCategories.indexOf(n);return t!=-1?(FFAPI.variables.newsletter.SelectedCategories.splice(t,1),!0):!1};FFAPI.methods.newsletter.updateSelectedDesignersInput=function(){var n=FFAPI.variables.newsletter.SelectedDesigners.join(",");FFAPI.variables.newsletter.selectedDesignersElement.val(n)};FFAPI.methods.newsletter.updateSelectedCategoriesInput=function(){var n=FFAPI.variables.newsletter.SelectedCategories.join(",");FFAPI.variables.newsletter.selectedCategoriesElement.val(n)};FFAPI.methods.newsletter.addDesignerTag=function(n){if(FFAPI.methods.newsletter.addDesigner(n.data)){var t='<div class="float-left mr10 mt10" data-id="'+n.data+'"><div class="signup-badge button-grey"><span>'+n.value+'<\/span><span class="newsLetterRemoveDesigner singup-delete-icon glyphs icon-close badge-icon"><\/span><\/div><\/div>';FFAPI.variables.newsletter.newsletterDesignersTagsElement.append(t);FFAPI.methods.newsletter.updateSelectedDesignersInput()}};FFAPI.methods.newsletter.initDesignersSearch=function(n,t){require(["essentials"],function(){require(["jquery.autocomplete"],function(){$(document).ready(function(){$("#preferedDesigners").autocomplete({serviceUrl:t,minChars:3,maxHeight:200,appendTo:"#newsletter_suggestions_container",width:"100%",zIndex:1,params:{genderId:n},deferRequestBy:200,onSelect:function(n){FFAPI.methods.newsletter.addDesignerTag(n);$("#preferedDesigners").val("");$("#preferedDesigners").focus()}})})})});FFAPI.variables.bodyElement.on("click",".newsLetterRemoveDesigner",function(){var t=$(this).parent().parent().data("id"),i=document.querySelectorAll('[data-id="'+t+'"]'),n,r;for(FFAPI.methods.newsletter.removeDesigner(t),FFAPI.methods.newsletter.updateSelectedDesignersInput(),n=0,r=i.length;n<r;n++)i[n].remove()})};FFAPI.methods.newsletter.initNewsletter=function(n,t){FFAPI.methods.newsletter.disableSubmitOnEnterPreferedDesigners();FFAPI.variables.newsletter.selectedCategoriesElement=$("#selectedCategories");FFAPI.variables.newsletter.selectedDesignersElement=$("#selectedDesigners");FFAPI.variables.newsletter.newsletterDesignersTagsElement=$(".newsletterDesignersTags");FFAPI.methods.newsletter.initDesignersSearch(n,t);$("#btnNewsletterPrefSubmit").on("click",function(){$("input[type=checkbox]:checked").each(function(){var n=$(this).val();FFAPI.methods.newsletter.addCategory(n)});FFAPI.methods.newsletter.updateSelectedCategoriesInput();$(".signup_news_modal").trigger("click.dismiss.bs.modal")});$("#CountryList").chosen().bind("change",function(){$("#SelectedCountry").val($(this).val())})};FFAPI.methods.newsletter.initPreferencesPopup=function(n,t){FFAPI.methods.newsletter.disableSubmitOnEnterPreferedDesigners();FFAPI.variables.newsletter.selectedCategoriesElement=$("#selectedCategories");FFAPI.variables.newsletter.selectedDesignersElement=$("#selectedDesigners");FFAPI.variables.newsletter.newsletterDesignersTagsElement=$(".newsletterDesignersTags");$(".js-ffInput").checkradio();FFAPI.plugins.methods.initJQueryDropdowns($(document));$.validator.unobtrusive.parse(document);FFAPI.methods.newsletter.initDesignersSearch(n,t);$("#btnNewsletterPrefSubmit").on("click",function(){$("input[type=checkbox]:checked").each(function(){var n=$(this).val();FFAPI.methods.newsletter.addCategory(n)});FFAPI.methods.newsletter.updateSelectedCategoriesInput();$(".signup_news_modal").trigger("click.dismiss.bs.modal")})};FFAPI.methods.newsletter.showThankYouPopup=function(){$("#signup_thankyou_modal").modal();$(document).trigger("subscribedEmail");window.setTimeout(function(){window.location="/"},3e3);$("#signup_thankyou_modal").on("click.dismiss.bs.modal",function(){window.location="/"})};$(".icon-close").on("click",function(){$(this).closest(".info").slideUp();$.ajax({type:"POST",url:window.universal_variable.page.subfolder+"/Common/ClearErrorMessages",contentType:"application/json; charset=utf-8"})});FFAPI.methods.newsletter.disableSubmitOnEnterPreferedDesigners=function(){document.getElementById("preferedDesigners").onkeypress=function(n){n||(n=window.event);var t=n.keyCode||n.which;if(t=="13")return n.stopPropagation(),n.preventDefault(),!1}};FFAPI.methods.newsletter.thankYouPageSucess=function(n){var t=document.getElementById("btnNewsletterPrefSubmit");t.style.background="#ccc";t.innerHTML=t.innerHTML.replace('<span class="glyphs icon-thinArrow float-right"><\/span>','<span class="glyphs icon-tickbox"><\/span>');t.disabled=!0;window.location=n.url?n.url:window.location.origin};$("body").on("click",".editorial-backTop a",function(n){n.preventDefault();$(document).scrollTop(0)});jQuery.cookie=function(n,t,i){var u,r,f,e;return arguments.length>1&&String(t)!=="[object Object]"?(i=jQuery.extend({},i),(t===null||t===undefined)&&(i.expires=-1),typeof i.expires=="number"&&(u=i.expires,r=i.expires=new Date,r.setDate(r.getDate()+u)),t=String(t),document.cookie=[encodeURIComponent(n),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")):(i=t||{},e=i.raw?function(n){return n}:decodeURIComponent,(f=new RegExp("(?:^|; )"+encodeURIComponent(n)+"=([^;]*)").exec(document.cookie))?e(f[1]):null)},function(n){var t={},r={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,loading:!0,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"",prevText:"",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSlideError:function(){},onSliderResize:function(){}};n.fn.bxSlider=function(u){var f,e;if(this.length==0)return this;if(this.length>1)return this.each(function(){n(this).bxSlider(u)}),this;f={};e=this;t.el=this;var w=n(window).width(),b=n(window).height(),k=function(){f.settings=n.extend({},r,u);f.settings.slideWidth=parseInt(f.settings.slideWidth);f.children=e.children(f.settings.slideSelector);f.children.length<f.settings.minSlides&&(f.settings.minSlides=f.children.length);f.children.length<f.settings.maxSlides&&(f.settings.maxSlides=f.children.length);f.settings.randomStart&&(f.settings.startSlide=Math.floor(Math.random()*f.children.length));f.active={index:f.settings.startSlide};f.carousel=f.settings.minSlides>1||f.settings.maxSlides>1;f.carousel&&(f.settings.preloadImages="all");f.minThreshold=f.settings.minSlides*f.settings.slideWidth+(f.settings.minSlides-1)*f.settings.slideMargin;f.maxThreshold=f.settings.maxSlides*f.settings.slideWidth+(f.settings.maxSlides-1)*f.settings.slideMargin;f.working=!1;f.controls={};f.interval=null;f.animProp=f.settings.mode=="vertical"?"top":"left";f.usingCSS=f.settings.useCSS&&f.settings.mode!="fade"&&function(){var i=document.createElement("div"),n=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var t in n)if(i.style[n[t]]!==undefined)return f.cssPrefix=n[t].replace("Perspective","").toLowerCase(),f.animProp="-"+f.cssPrefix+"-transform",!0;return!1}();f.settings.mode=="vertical"&&(f.settings.maxSlides=f.settings.minSlides);e.data("origStyle",e.attr("style"));e.children(f.settings.slideSelector).each(function(){n(this).data("origStyle",n(this).attr("style"))});ft()},ft=function(){var i,t;e.wrap('<div class="'+f.settings.wrapperClass+'"><div class="bx-viewport"><\/div><\/div>');f.viewport=e.parent();f.settings.loading&&(f.loader=n('<div class="bx-loading" />'),f.viewport.prepend(f.loader));e.css({width:f.settings.mode=="horizontal"?f.children.length*100+215+"%":"auto",position:"relative"});f.usingCSS&&f.settings.easing?e.css("-"+f.cssPrefix+"-transition-timing-function",f.settings.easing):f.settings.easing||(f.settings.easing="swing");i=h();f.viewport.css({width:"100%",overflow:"hidden",position:"relative"});f.viewport.parent().css({maxWidth:st()});f.settings.pager||f.viewport.parent().css({margin:"0 auto 0px"});f.children.css({float:f.settings.mode=="horizontal"?"left":"none",listStyle:"none",position:"relative"});f.children.css("width",d());f.settings.mode=="horizontal"&&f.settings.slideMargin>0&&f.children.css("marginRight",f.settings.slideMargin);f.settings.mode=="vertical"&&f.settings.slideMargin>0&&f.children.css("marginBottom",f.settings.slideMargin);f.settings.mode=="fade"&&(f.children.css({position:"absolute",zIndex:0,display:"none"}),f.children.eq(f.settings.startSlide).css({zIndex:f.settings.slideZIndex,display:"block"}));f.controls.el=n('<div class="bx-controls" />');f.settings.captions&&at();f.active.last=f.settings.startSlide==o()-1;f.settings.video&&e.fitVids();t=f.children.eq(f.settings.startSlide);f.settings.preloadImages=="all"&&(t=f.children);f.settings.ticker?f.settings.pager=!1:(f.settings.pager&&ht(),f.settings.controls&&ct(),f.settings.auto&&f.settings.autoControls&&lt(),(f.settings.controls||f.settings.autoControls||f.settings.pager)&&f.viewport.after(f.controls.el));et(t,ot)},et=function(t,i){var r=t.find("img, iframe").length,u;if(r==0){i();return}u=0;t.find("img, iframe").each(function(){n(this).one("load",function(){++u==r&&i()}).one("error",function(){var t=n(this).parents("li:first");f.pagerEl&&f.pagerEl.find("a:eq("+t.index()+")").remove();t.remove();f.settings.onSlideError(f.children.length,f.settings);++u==r&&i()}).each(function(){this.complete&&n(this).load()})})},ot=function(){if(f.children=e.children(f.settings.slideSelector),f.settings.infiniteLoop&&f.settings.mode!="fade"&&!f.settings.ticker){var t=f.settings.mode=="vertical"?f.settings.minSlides:f.settings.maxSlides,i=f.children.slice(0,t).clone().addClass("bx-clone"),r=f.children.slice(-t).clone().addClass("bx-clone");e.append(i).prepend(r)}f.settings.loading&&f.loader.remove();g();f.settings.mode=="vertical"&&(f.settings.adaptiveHeight=!0);f.viewport.height(l());e.redrawSlider();f.settings.onSliderLoad(f.active.index);f.initialized=!0;f.settings.responsive&&n(window).bind("resize",ut);f.settings.auto&&f.settings.autoStart&&(o()>1||f.settings.autoSlideForOnePage)&&kt();f.settings.ticker&&dt();f.settings.pager&&v(f.settings.startSlide);f.settings.controls&&tt();f.settings.touchEnabled&&!f.settings.ticker&&gt()},l=function(){var r=0,t=n(),u;if(f.settings.mode=="vertical"||f.settings.adaptiveHeight)if(f.carousel)for(u=f.settings.moveSlides==1?f.active.index:f.active.index*c(),t=f.children.eq(u),i=1;i<=f.settings.maxSlides-1;i++)t=u+i>=f.children.length?t.add(f.children.eq(i-1)):t.add(f.children.eq(u+i));else t=f.children.eq(f.active.index);else t=f.children;return f.settings.mode=="vertical"?(t.each(function(){r+=n(this).outerHeight()}),f.settings.slideMargin>0&&(r+=f.settings.slideMargin*(f.settings.minSlides-1))):r=Math.max.apply(Math,t.map(function(){return n(this).outerHeight(!1)}).get()),f.viewport.css("box-sizing")=="border-box"?r+=parseFloat(f.viewport.css("padding-top"))+parseFloat(f.viewport.css("padding-bottom")):f.viewport.css("box-sizing")=="padding-box"&&(r+=parseFloat(f.viewport.css("padding-top"))+parseFloat(f.viewport.css("padding-bottom"))),r},st=function(){var n="100%";return f.settings.slideWidth>0&&(n=f.settings.mode=="horizontal"?f.settings.maxSlides*f.settings.slideWidth+(f.settings.maxSlides-1)*f.settings.slideMargin:f.settings.slideWidth),n},d=function(){var t=f.settings.slideWidth,n=f.viewport.width();return f.settings.slideWidth==0||f.settings.slideWidth>n&&!f.carousel||f.settings.mode=="vertical"?t=n:f.settings.maxSlides>1&&f.settings.mode=="horizontal"&&(n>f.maxThreshold||n<f.minThreshold&&(t=(n-f.settings.slideMargin*(f.settings.minSlides-1))/f.settings.minSlides)),t},h=function(){var n=1,t;return f.settings.mode=="horizontal"&&f.settings.slideWidth>0?f.viewport.width()<f.minThreshold?n=f.settings.minSlides:f.viewport.width()>f.maxThreshold?n=f.settings.maxSlides:(t=f.children.first().width()+f.settings.slideMargin,n=Math.floor((f.viewport.width()+f.settings.slideMargin)/t)):f.settings.mode=="vertical"&&(n=f.settings.minSlides),n},o=function(){var n=0,t,i;if(f.settings.moveSlides>0)if(f.settings.infiniteLoop)n=Math.ceil(f.children.length/c());else for(t=0,i=0;t<f.children.length;)++n,t=i+h(),i+=f.settings.moveSlides<=h()?f.settings.moveSlides:h();else n=Math.ceil(f.children.length/h());return n},c=function(){return f.settings.moveSlides>0&&f.settings.moveSlides<=h()?f.settings.moveSlides:h()},g=function(){var t,i,n;f.children.length>f.settings.maxSlides&&f.active.last&&!f.settings.infiniteLoop?f.settings.mode=="horizontal"?(t=f.children.last(),n=t.position(),s(-(n.left-(f.viewport.width()-t.outerWidth())),"reset",0)):f.settings.mode=="vertical"&&(i=f.children.length-f.settings.minSlides,n=f.children.eq(i).position(),s(-n.top,"reset",0)):(n=f.children.eq(f.active.index*c()).position(),f.active.index==o()-1&&(f.active.last=!0),n!=undefined&&(f.settings.mode=="horizontal"?s(-n.left,"reset",0):f.settings.mode=="vertical"&&s(-n.top,"reset",0)))},s=function(n,t,i,r){var u,o;f.usingCSS?(u=f.settings.mode=="vertical"?"translate3d(0, "+n+"px, 0)":"translate3d("+n+"px, 0, 0)",e.css("-"+f.cssPrefix+"-transition-duration",i/1e3+"s"),t=="slide"?(e.css(f.animProp,u),e.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");y()})):t=="reset"?e.css(f.animProp,u):t=="ticker"&&(e.css("-"+f.cssPrefix+"-transition-timing-function","linear"),e.css(f.animProp,u),e.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");s(r.resetValue,"reset",0);a()}))):(o={},o[f.animProp]=n,t=="slide"?e.animate(o,i,f.settings.easing,function(){y()}):t=="reset"?e.css(f.animProp,n):t=="ticker"&&e.animate(o,speed,"linear",function(){s(r.resetValue,"reset",0);a()}))},nt=function(){for(var i,r="",u=o(),t=0;t<u;t++)i="",f.settings.buildPager&&n.isFunction(f.settings.buildPager)?(i=f.settings.buildPager(t),f.pagerEl.addClass("bx-custom-pager")):(i=t+1,f.pagerEl.addClass("bx-default-pager")),r+='<div class="bx-pager-item"><a href="" data-slide-index="'+t+'" class="bx-pager-link">'+i+"<\/a><\/div>";f.pagerEl.html(r)},ht=function(){f.settings.pagerCustom?f.pagerEl=n(f.settings.pagerCustom):(f.pagerEl=n('<div class="bx-pager" />'),f.settings.pagerSelector?n(f.settings.pagerSelector).html(f.pagerEl):f.controls.el.addClass("bx-has-pager").append(f.pagerEl),nt());f.pagerEl.on("click","a",bt)},ct=function(){f.controls.next=n('<a class="bx-next" href="">NaN');f.controls.prev=n('<a class="bx-prev" href="">NaN');f.controls.next.bind("click",vt);f.controls.prev.bind("click",yt);f.settings.nextSelector&&n(f.settings.nextSelector).append(f.controls.next);f.settings.prevSelector&&n(f.settings.prevSelector).append(f.controls.prev);f.settings.nextSelector||f.settings.prevSelector||(f.controls.directionEl=n('<div class="bx-controls-direction" />'),f.controls.directionEl.append(f.controls.prev).append(f.controls.next),f.controls.el.addClass("bx-has-controls-direction").append(f.controls.directionEl))},lt=function(){f.controls.start=n('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+f.settings.startText+"<\/a><\/div>");f.controls.stop=n('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+f.settings.stopText+"<\/a><\/div>");f.controls.autoEl=n('<div class="bx-controls-auto" />');f.controls.autoEl.on("click",".bx-start",pt);f.controls.autoEl.on("click",".bx-stop",wt);f.settings.autoControlsCombine?f.controls.autoEl.append(f.controls.start):f.controls.autoEl.append(f.controls.start).append(f.controls.stop);f.settings.autoControlsSelector?n(f.settings.autoControlsSelector).html(f.controls.autoEl):f.controls.el.addClass("bx-has-controls-auto").append(f.controls.autoEl);p(f.settings.autoStart?"stop":"start")},at=function(){f.children.each(function(){var t=n(this).find("img:first").attr("title");t!=undefined&&(""+t).length&&n(this).append('<div class="bx-caption"><span>'+t+"<\/span><\/div>")})},vt=function(n){f.settings.auto&&e.stopAuto();e.goToNextSlide();n.preventDefault()},yt=function(n){f.settings.auto&&e.stopAuto();e.goToPrevSlide();n.preventDefault()},pt=function(n){e.startAuto();n.preventDefault()},wt=function(n){e.stopAuto();n.preventDefault()},bt=function(t){var i,r;f.settings.auto&&e.stopAuto();i=n(t.currentTarget);i.attr("data-slide-index")!==undefined&&(r=parseInt(i.attr("data-slide-index")),r!=f.active.index&&e.goToSlide(r),t.preventDefault())},v=function(t){var i=f.children.length;if(f.settings.pagerType=="short"){f.settings.maxSlides>1&&(i=Math.ceil(f.children.length/f.settings.maxSlides));f.pagerEl.html(t+1+f.settings.pagerShortSeparator+i);return}f.pagerEl.find("a").removeClass("active");f.pagerEl.each(function(i,r){n(r).find("a").eq(t).addClass("active")})},y=function(){if(f.settings.infiniteLoop){var n="";f.active.index==0?n=f.children.eq(0).position():f.active.index==o()-1&&f.carousel?n=f.children.eq((o()-1)*c()).position():f.active.index==f.children.length-1&&(n=f.children.eq(f.children.length-1).position());n&&(f.settings.mode=="horizontal"?s(-n.left,"reset",0):f.settings.mode=="vertical"&&s(-n.top,"reset",0))}f.working=!1;f.settings.onSlideAfter(f.children.eq(f.active.index),f.oldIndex,f.active.index)},p=function(n){f.settings.autoControlsCombine?f.controls.autoEl.html(f.controls[n]):(f.controls.autoEl.find("a").removeClass("active"),f.controls.autoEl.find("a:not(.bx-"+n+")").addClass("active"))},tt=function(){o()==1?(f.controls.prev.addClass("disabled"),f.controls.next.addClass("disabled")):!f.settings.infiniteLoop&&f.settings.hideControlOnEnd&&(f.active.index==0?(f.controls.prev.addClass("disabled"),f.controls.next.removeClass("disabled")):f.active.index==o()-1?(f.controls.next.addClass("disabled"),f.controls.prev.removeClass("disabled")):(f.controls.prev.removeClass("disabled"),f.controls.next.removeClass("disabled")))},kt=function(){if(f.settings.autoDelay>0)var n=setTimeout(e.startAuto,f.settings.autoDelay);else e.startAuto();f.settings.autoHover&&e.hover(function(){f.interval&&(e.stopAuto(!0),f.autoPaused=!0)},function(){f.autoPaused&&(e.startAuto(!0),f.autoPaused=null)})},dt=function(){var i=0,t;f.settings.autoDirection=="next"?e.append(f.children.clone().addClass("bx-clone")):(e.prepend(f.children.clone().addClass("bx-clone")),t=f.children.first().position(),i=f.settings.mode=="horizontal"?-t.left:-t.top);s(i,"reset",0);f.settings.pager=!1;f.settings.controls=!1;f.settings.autoControls=!1;f.settings.tickerHover&&!f.usingCSS&&f.viewport.hover(function(){e.stop()},function(){var t=0;f.children.each(function(){t+=f.settings.mode=="horizontal"?n(this).outerWidth(!0):n(this).outerHeight(!0)});var i=f.settings.speed/t,r=f.settings.mode=="horizontal"?"left":"top",u=i*(t-Math.abs(parseInt(e.css(r))));a(u)});a()},a=function(n){var t,i;speed=n?n:f.settings.speed;t={left:0,top:0};i={left:0,top:0};f.settings.autoDirection=="next"?t=e.find(".bx-clone").first().position():i=f.children.first().position();var r=f.settings.mode=="horizontal"?-t.left:-t.top,u=f.settings.mode=="horizontal"?-i.left:-i.top,o={resetValue:u};s(r,"ticker",speed,o)},gt=function(){f.touch={start:{x:0,y:0},end:{x:0,y:0}};f.viewport.bind("touchstart",ni)},ni=function(n){if(f.working)n.preventDefault();else{f.touch.originalPos=e.position();var t=n.originalEvent;f.touch.start.x=t.changedTouches[0].pageX;f.touch.start.y=t.changedTouches[0].pageY;f.viewport.bind("touchmove",it);f.viewport.bind("touchend",rt)}},it=function(n){var t=n.originalEvent,u=Math.abs(t.changedTouches[0].pageX-f.touch.start.x),e=Math.abs(t.changedTouches[0].pageY-f.touch.start.y),i,r;u*3>e&&f.settings.preventDefaultSwipeX?n.preventDefault():e*3>u&&f.settings.preventDefaultSwipeY&&n.preventDefault();f.settings.mode!="fade"&&f.settings.oneToOneTouch&&(i=0,f.settings.mode=="horizontal"?(r=t.changedTouches[0].pageX-f.touch.start.x,i=f.touch.originalPos.left+r):(r=t.changedTouches[0].pageY-f.touch.start.y,i=f.touch.originalPos.top+r),s(i,"reset",0))},rt=function(n){var r,i,t;f.viewport.unbind("touchmove",it);r=n.originalEvent;i=0;f.touch.end.x=r.changedTouches[0].pageX;f.touch.end.y=r.changedTouches[0].pageY;f.settings.mode=="fade"?(t=Math.abs(f.touch.start.x-f.touch.end.x),t>=f.settings.swipeThreshold&&(f.touch.start.x>f.touch.end.x?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto())):(t=0,f.settings.mode=="horizontal"?(t=f.touch.end.x-f.touch.start.x,i=f.touch.originalPos.left):(t=f.touch.end.y-f.touch.start.y,i=f.touch.originalPos.top),!f.settings.infiniteLoop&&(f.active.index==0&&t>0||f.active.last&&t<0)?s(i,"reset",200):Math.abs(t)>=f.settings.swipeThreshold?(t<0?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto()):s(i,"reset",200));f.viewport.unbind("touchend",rt)},ut=function(){if(f.initialized){var t=n(window).width(),i=n(window).height();(w!=t||b!=i)&&(w=t,b=i,e.redrawSlider(),f.settings.onSliderResize.call(e,f.active.index))}};return e.goToSlide=function(t,i){var h,r,a,p,u,w,b;if(!f.working&&f.active.index!=t){f.working=!0;f.oldIndex=f.active.index;f.active.index=t<0?o()-1:t>=o()?0:t;f.settings.onSlideBefore(f.children.eq(f.active.index),f.oldIndex,f.active.index);if(i=="next")f.settings.onSlideNext(f.children.eq(f.active.index),f.oldIndex,f.active.index);else if(i=="prev")f.settings.onSlidePrev(f.children.eq(f.active.index),f.oldIndex,f.active.index);f.active.last=f.active.index>=o()-1;f.settings.pager&&v(f.active.index);f.settings.controls&&tt();f.settings.mode=="fade"?(f.settings.adaptiveHeight&&f.viewport.height()!=l()&&f.viewport.animate({height:l()},f.settings.adaptiveHeightSpeed),f.children.filter(":visible").fadeOut(f.settings.speed).css({zIndex:0}),f.children.eq(f.active.index).css("zIndex",f.settings.slideZIndex+1).fadeIn(f.settings.speed,function(){n(this).css("zIndex",f.settings.slideZIndex);y()})):(f.settings.adaptiveHeight&&f.viewport.height()!=l()&&f.viewport.animate({height:l()},f.settings.adaptiveHeightSpeed),h=0,r={left:0,top:0},!f.settings.infiniteLoop&&f.carousel&&f.active.last?f.settings.mode=="horizontal"?(u=f.children.eq(f.children.length-1),r=u.position(),h=f.viewport.width()-u.outerWidth()):(a=f.children.length-f.settings.minSlides,r=f.children.eq(a).position()):f.carousel&&f.active.last&&i=="prev"?(p=f.settings.moveSlides==1?f.settings.maxSlides-c():(o()-1)*c()-(f.children.length-f.settings.maxSlides),u=e.children(".bx-clone").eq(p),r=u.position()):i=="next"&&f.active.index==0?(r=e.find("> .bx-clone").eq(f.settings.maxSlides).position(),f.active.last=!1):t>=0&&(w=t*c(),r=f.children.eq(w).position()),"undefined"!=typeof r&&(b=f.settings.mode=="horizontal"?-(r.left-h):-r.top,s(b,"slide",f.settings.speed)))}},e.goToNextSlide=function(){if(f.settings.infiniteLoop||!f.active.last){var n=parseInt(f.active.index)+1;e.goToSlide(n,"next")}},e.goToPrevSlide=function(){if(f.settings.infiniteLoop||f.active.index!=0){var n=parseInt(f.active.index)-1;e.goToSlide(n,"prev")}},e.startAuto=function(n){f.interval||(f.interval=setInterval(function(){f.settings.autoDirection=="next"?e.goToNextSlide():e.goToPrevSlide()},f.settings.pause),f.settings.autoControls&&n!=!0&&p("stop"))},e.stopAuto=function(n){f.interval&&(clearInterval(f.interval),f.interval=null,f.settings.autoControls&&n!=!0&&p("start"))},e.getCurrentSlide=function(){return f.active.index},e.getCurrentSlideElement=function(){return f.children.eq(f.active.index)},e.getSlideCount=function(){return f.children.length},e.redrawSlider=function(){f.children.add(e.find(".bx-clone")).width(d());f.viewport.css("height",l());f.settings.ticker||g();f.active.last&&(f.active.index=o()-1);f.active.index>=o()&&(f.active.last=!0);f.settings.pager&&!f.settings.pagerCustom&&(nt(),v(f.active.index))},e.destroySlider=function(){f.initialized&&(f.initialized=!1,n(".bx-clone",this).remove(),f.children.each(function(){n(this).data("origStyle")!=undefined?n(this).attr("style",n(this).data("origStyle")):n(this).removeAttr("style")}),n(this).data("origStyle")!=undefined?this.attr("style",n(this).data("origStyle")):n(this).removeAttr("style"),n(this).unwrap().unwrap(),f.controls.el&&f.controls.el.remove(),f.controls.next&&f.controls.next.remove(),f.controls.prev&&f.controls.prev.remove(),n(".bx-caption",this).remove(),f.controls.autoEl&&f.controls.autoEl.remove(),clearInterval(f.interval),f.settings.responsive&&n(window).unbind("resize",ut))},e.reloadSlider=function(n){n!=undefined&&(u=n);e.destroySlider();k()},k(),this}}(jQuery);$(document).ready(function(){FFAPI.variables.jsSliderSingle=[];FFAPI.variables.jsSliderSingleId=[];FFAPI.variables.jsSliderSingleClass=$(".js-sliderSingle");$.each(FFAPI.variables.jsSliderSingleClass,function(n){var t=$(this).parents("li"),i=t.find(">a").data("slider-id");FFAPI.variables.jsSliderSingle[n]=$(this).bxSlider({mode:"fade",controls:"false",pager:$(this).find("li").length>1});FFAPI.variables.jsSliderSingleId[n]=i})});FFAPI.variables.product=FFAPI.variables.product||{};FFAPI.variables.sliderNamesFinal=[];FFAPI.variables.product.productTemplateCarousel="/static/js/ajax/productcarousel.html";FFAPI.variables.product.productTemplateCarouselWithCloseButton="/static/js/ajax/productcarousel.html";FFAPI.variables.product.recentlyViewedItemsAjaxUrl="/common/GetRecentlyViewedCarousel";FFAPI.variables.product.tabContainerId="tabs";FFAPI.variables.product.tabAnchorRecommendationsId="trigger-recommendations";FFAPI.variables.product.tabAnchorRecentViewedId="trigger-recentViewedItems";FFAPI.variables.product.tabDivRecommendationsId="tabs-recommendations";FFAPI.variables.product.tabDivRecentViewedId="tabs-recentViewedItems";FFAPI.variables.product.sliderSelector="js-sliderProduct";FFAPI.variables.product.tabContainer=null;slideDirection="right";FFAPI.methods.bindBxSlider=function(n){var t=n.find("."+FFAPI.variables.product.sliderSelector),r=n.attr("id"),u=t.find("li").size(),i=mqCarousel(u,n),f=JSON.parse(n[0].getAttribute("data-sliderTrk"));FFAPI.methods.setExtraOptions(i,f);FFAPI.variables.sliderNamesFinal[r]=t.bxSlider(i)};FFAPI.methods.reloadBxSlider=function(n){var r=n.find("."+FFAPI.variables.product.sliderSelector),t=n.attr("id"),u=r.find("li:not(.bx-clone)").size(),i=mqCarousel(u,n),f=JSON.parse(n[0].getAttribute("data-sliderTrk"));FFAPI.methods.setExtraOptions(i,f);FFAPI.variables.sliderNamesFinal[t]!=undefined&&FFAPI.variables.sliderNamesFinal[t].length>0&&FFAPI.variables.sliderNamesFinal[t].reloadSlider(i)};FFAPI.methods.setExtraOptions=function(n,t){n.onSlidePrev=function(){typeof _fftrkobj!="undefined"&&(t.prev?_fftrkobj.parse(t.prev):_fftrkobj.parse("290"))};n.onSlideNext=function(){typeof _fftrkobj!="undefined"&&(t.next?_fftrkobj.parse(t.next):_fftrkobj.parse("290"))}};FFAPI.methods.renderProductCarousel=function(n,t,i){$.get(n,function(n){var n=Hogan.compile(n),r=new RegExp('src="/static/js/ajax/',"g"),u=new RegExp('data-img="/static/js/ajax/',"g"),f=new RegExp('data-img-alt="/static/js/ajax/',"g"),e=new RegExp(":/([a-zA-Z])","g"),o=n.render(t).replace(r,'src="').replace(u,'data-img="').replace(f,'data-img-alt="').replace(e,function(n,t){return"://"+t});i.empty();i.html(o);FFAPI.methods.bindBxSlider(i);FFAPI.methods.addBlankLinks()})};FFAPI.methods.removeRecentlyViewedItem=function(n){var t,i;$(n).closest(".sliderTabs-slide").remove();t=$("#"+FFAPI.variables.product.tabDivRecentViewedId);t.length>0&&(t.find("li.sliderTabs-slide").length>0?FFAPI.methods.reloadBxSlider(t):(i='<div class="baseline col12 col-md-12 col-sm-12 col-xs-12 alpha omega"> <div class="h4 heading-regular pt20 pl20">'+FFAPI.translations.noRecentlyViewedItems+"<\/div><\/div>",t.html(i)))};FFAPI.methods.loadRecentlyViewedItems=function(n){var t=$("#"+FFAPI.variables.product.tabDivRecentViewedId);$.ajax({type:"POST",url:window.universal_variable.page.subfolder+"/common/GetRecentlyViewedCarousel",cache:!1,success:function(i){FFAPI.methods.renderProductCarousel(FFAPI.variables.product.productTemplateCarousel,i,t);t.data("tabsloaded",!0);n&&n()},error:function(){var n='<div class="baseline col12 col-md-12 col-sm-12 col-xs-12 alpha omega"> <div class=" h4 heading-regular pt20 pl20">'+FFAPI.translations.noRecentlyViewedItems+"<\/div><\/div>";t.html(n);t.data("tabsloaded",!0)}})};FFAPI.methods.loadRecommendations=function(n,t,i,r){var u=t,e,f;typeof u!="undefined"&&u!=null&&typeof u.resonance!="undefined"&&typeof u.resonance.schemes[0]!="undefined"&&u.resonance.schemes[0]!=null&&typeof u.resonance.schemes[0].items[0]!="undefined"&&u.resonance.schemes[0].items[0]!=null&&typeof u.resonance.schemes[0].items[0].Id!="undefined"&&u.resonance.schemes[0].items[0].Id!=null&&(e=u.resonance.schemes[0],e.Subfolder=window.universal_variable.page.subfolder,f=$("#"+i),FFAPI.methods.renderProductCarousel(n,e,f),window.universal_variable&&window.universal_variable.page&&window.universal_variable.page.pageId==="basket"?f.find("ul a").attr("trk","138"):window.universal_variable&&window.universal_variable.page&&window.universal_variable.page.pageId==="transaction"&&f.find("ul a").attr("trk","193"),f.data("tabsloaded",!0),r&&r())};FFAPI.methods.initRecommendations=function(n){var t=n;checkForRecommendations=function(){var u=$(document),n=u.data("recommendations"),t,i;if(typeof n=="boolean"&&n===!1)recommendationsOffAction();else if(typeof n=="object"){clearTimeout(FFAPI.variables.CertonaInterval);clearTimeout(FFAPI.variables.CertonaTimeout);FFAPI.variables.CertonaInterval=undefined;FFAPI.variables.CertonaTimeout=undefined;function r(t){if(!i){var u=FFAPI.lazy.viewport(0);FFAPI.lazy.inviewport(u,t)&&(FFAPI.methods.loadRecommendations(FFAPI.variables.product.productTemplateCarousel,n,FFAPI.variables.product.tabDivRecommendationsId,null),FFAPI.methods.off(FFAPI.win,"scroll resize",r,!1),i=!0)}}if(t=document.getElementById(FFAPI.variables.product.tabContainerId),i=!1,t&&!i){FFAPI.methods.on(FFAPI.win,"scroll resize",r.bind(this,t),!1);$(document).ready(function(){r(t)})}}};recommendationsOffAction=function(){clearTimeout(FFAPI.variables.CertonaInterval);clearTimeout(FFAPI.variables.CertonaTimeout);FFAPI.variables.CertonaInterval=undefined;FFAPI.variables.CertonaTimeout=undefined;$("#"+FFAPI.variables.product.tabAnchorRecommendationsId).parent().hide();$("#"+FFAPI.variables.product.tabAnchorRecentViewedId).parent().trigger("click")};$(document).ready(function(){FFAPI.variables.CertonaInterval!=undefined&&(clearInterval(FFAPI.variables.CertonaInterval),clearTimeout(FFAPI.variables.CertonaTimeout));FFAPI.variables.CertonaInterval=setInterval(checkForRecommendations,100);FFAPI.variables.CertonaTimeout=setTimeout(function(){recommendationsOffAction()},t)})};FFAPI.methods.initSliderCarousel=function(){var i=$("#"+FFAPI.variables.product.tabDivRecentViewedId),r=$("#"+FFAPI.variables.product.tabDivRecommendationsId),t=document.getElementById(FFAPI.variables.product.tabContainerId),n;if(t){FFAPI.variables.product.tabContainer=$(t);n=FFAPI.plugins.tabs.get(t);n.setCallback("show",function(n,t){var i=$(t.content);i.data("tabsloaded")&&FFAPI.methods.reloadBxSlider(i)});$("#"+FFAPI.variables.product.tabAnchorRecentViewedId).parent().on("click",function(){i.data("tabsloaded")!=!0&&FFAPI.methods.loadRecentlyViewedItems()});$(window).smartresize(function(){if(n.activeItem){var t=$(n.activeItem.content);t.data("tabsloaded")&&FFAPI.methods.reloadBxSlider(t)}},FFAPI.variables.resizeWindowTime)}};require(["essentials"],function(){$(document).ready(FFAPI.methods.initSliderCarousel)});+function(n){"use strict";var t=function(t,i){this.options=i;this.$element=n(t);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this));this.$element.appendTo(document.body)},i;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this[this.isShown?"hide":"show"](n)};t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});if(this.$element.trigger(r),!this.isShown&&!r.isDefaultPrevented()){this.isShown=!0;this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body);i.$element.show().scrollTop(0);u&&i.$element[0].offsetWidth;i.$element.addClass("in").attr("aria-hidden",!1);i.enforceFocus();r=n.Event("shown.bs.modal",{relatedTarget:t});u?i.$element.find(".modal-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)})}};t.prototype.hide=function(t){(t&&t.preventDefault(),t=n.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented())&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.removeBackdrop();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(t){var r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){i=n.support.transition&&r;this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));if(i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};i=n.fn.modal;n.fn.modal=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})};n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=i,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=n(this),r=i.attr("href")?i.attr("href"):i.data("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());i.is("a")&&t.preventDefault();u.modal(f,this).one("hide",function(){i.is(":visible")&&i.focus()})});n(document).on("show.bs.modal",".modal",function(){n(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){n(document.body).removeClass("modal-open")})}(jQuery),function(n){function t(n,t){return typeof n=="function"?n.call(t):n}function r(n){while(n=n.parentNode)if(n==document)return!0;return!1}function i(t,i){this.$element=n(t);this.options=i;this.enabled=!0;this.fixTitle()}i.prototype={show:function(){var h=this.getTitle(),r,c,f;if(h&&this.enabled){r=this.tip();c=t(this.options.width,this.$element[0]);this.options.offset=t(this.options.offset,this.$element[0]);this.options.bgColor=t(this.options.bgColor,this.$element[0]);r.find(".tipsy-inner").css({width:c+"px","background-color":this.options.bgColor});r.find(".tipsy-inner")[this.options.html?"html":"text"](h);r[0].className="tipsy";r.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i=n.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),e=r[0].offsetWidth,o=r[0].offsetHeight,u=t(this.options.gravity,this.$element[0]),s=t(this.options.responsive,this.$element[0]);if(s){function l(){for(var n in s)FFAPI.responsive.match(n)&&(u=s[n])}l.bind(this)()}switch(u.charAt(0)){case"n":f={top:i.top+i.height+this.options.offset,left:i.left+i.width/2-e/2};break;case"s":f={top:i.top-o-this.options.offset,left:i.left+i.width/2-e/2};break;case"e":f={top:i.top+i.height/2-o/2,left:i.left-e-this.options.offset};break;case"w":f={top:i.top+i.height/2-o/2,left:i.left+i.width+this.options.offset}}u.length==2&&(f.left=u.charAt(1)=="w"?i.left+i.width/2-15:i.left+i.width/2-e+15);r.css(f).addClass("tipsy-"+u);r.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+u.charAt(0);this.options.className&&r.addClass(t(this.options.className,this.$element[0]));this.options.fade?r.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):r.css({visibility:"visible",opacity:this.options.opacity})}},is_shown:function(){return this.tip().is(":visible")},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){n(this).remove()}):this.tip().remove()},fixTitle:function(){var n=this.$element;(n.attr("title")||typeof n.attr("original-title")!="string")&&n.attr("original-title",n.attr("title")||"").removeAttr("title")},getTitle:function(){var i=this.$element,n=this.options,t;return this.fixTitle(),n=this.options,typeof n.title=="string"?t=i.attr(n.title=="title"?"original-title":n.title):typeof n.title=="function"&&(t=n.title.call(i[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||n.fallback},tip:function(){return this.$tip||(this.$tip=n('<div class="tipsy"><\/div>').html('<div class="tipsy-arrow"><\/div><div class="tipsy-inner"><\/div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};n.fn.tipsy=function(t){function u(r){var u=n.data(r,"tipsy");return u||(u=new i(r,n.fn.tipsy.elementOptions(r,t)),n.data(r,"tipsy",u)),u}function e(){var n=u(this);n.hoverState="in";t.delayIn==0?n.show():(n.fixTitle(),setTimeout(function(){n.hoverState=="in"&&n.show()},t.delayIn))}function o(){var n=u(this);n.hoverState="out";t.delayOut==0?n.hide():setTimeout(function(){n.hoverState=="out"&&n.hide()},t.delayOut)}var r;if(t===!0)return this.data("tipsy");if(typeof t=="string")return r=this.data("tipsy"),r&&r[t](),this;if(t=n.extend({},n.fn.tipsy.defaults,t),t.live||this.each(function(){u(this)}),t.trigger!="manual"){var f=t.live?"live":"bind",s=t.trigger=="hover"?"mouseenter":"focus",h=t.trigger=="hover"?"mouseleave":"blur";this[f](s,e)[f](h,o)}return this};n.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!0,fallback:"",gravity:"n",html:!0,live:!1,offset:0,opacity:1,title:"title",trigger:"hover",width:"300",responsive:!1,bgColor:"#f5f5f5"};n.fn.tipsy.revalidate=function(){n(".tipsy").each(function(){var t=n.data(this,"tipsy-pointee");t&&r(t)||n(this).remove()})};n.fn.tipsy.elementOptions=function(t,i){return n.metadata?n.extend({},i,n(t).metadata()):i};n.fn.tipsy.autoNS=function(){return n(this).offset().top>n(document).scrollTop()+n(window).height()/2?"s":"n"};n.fn.tipsy.autoWE=function(){return n(this).offset().left>n(document).scrollLeft()+n(window).width()/2?"e":"w"};n.fn.tipsy.autoBounds=function(t,i){return function(){var r={ns:i[0],ew:i.length>1?i[1]:!1},f=n(document).scrollTop()+t,e=n(document).scrollLeft()+t,u=n(this);return u.offset().top<f&&(r.ns="n"),u.offset().left<e&&(r.ew="w"),n(window).width()+n(document).scrollLeft()-u.offset().left<t&&(r.ew="e"),n(window).height()+n(document).scrollTop()-u.offset().top<t&&(r.ns="s"),r.ns+(r.ew?r.ew:"")}}}(jQuery);FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.rollover={options:{rolloverSelector:".no-touch .imageRollover",image:"data-img",image_alt:"data-img-alt",processedClass:"js-rollover"},imgs:[],start:function(n){var i,t,r;for(FFAPI.methods.extend(this.options,n),i=document.querySelectorAll(this.options.rolloverSelector),t=0,r=i.length;t<r;t++)this.bind(i[t])},bind:function(n){if(FFAPI.methods.hasClass(n,this.options.processedClass))return null;var t={el:n,parent:n.parentNode,rollEl:null,imgSrc:null,imgAltSrc:null,imgAltTxt:null,onLoad:null};t.onLoad=this.animateIn.bind(this,t);FFAPI.methods.on(t.parent,"mouseenter",this.mouseEnter.bind(this,t),!0);FFAPI.methods.on(t.parent,"mouseleave",this.mouseLeave.bind(this,t),!0);return FFAPI.methods.addClass(n,this.options.processedClass),this.imgs.push(t),t},mouseEnter:function(n){if(n.rollEl)this.animateIn(n);else{if(this.select(n),this.build(n),!n.imgAltSrc||n.imgAltSrc==="")return;FFAPI.methods.on(n.rollEl,"load",n.onLoad,!1)}},mouseLeave:function(n){FFAPI.methods.off(n.rollEl,"load",n.onLoad,!1);this.animateOut(n)},select:function(n){n.imgSrc=n.el.getAttribute(this.options.image);n.imgAltSrc=n.el.getAttribute(this.options.image_alt);n.imgAltTxt=n.el.getAttribute("alt")},build:function(n){n.imgAltSrc&&n.imgAltSrc!==""&&(n.rollEl=document.createElement("IMG"),n.rollEl.setAttribute("src",n.imgAltSrc),n.rollEl.setAttribute("alt",n.imgAltTxt),n.rollEl.setAttribute("width",""),n.rollEl.setAttribute("height",""),FFAPI.methods.addClass(n.rollEl,"absolute rolloverActive"),n.parent.insertBefore(n.rollEl,n.el.nextSibling),FFAPI.methods.addClass(n.el,"absolute crossfade"))},animateIn:function(n){FFAPI.methods.addClass(n.el,"opacity-crossfade")},animateOut:function(n){FFAPI.methods.removeClass(n.el,"opacity-crossfade")}},function(n){"use strict";typeof define=="function"&&define.amd?define("jquery.autocomplete",["jquery"],n):n(jQuery)}(function(n){"use strict";function i(t,r){var f=function(){},u=this,e={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:i.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:f,onSearchComplete:f,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",lookupFilter:function(n,t,i){return n.value.toLowerCase().indexOf(i)!==-1},paramName:"query",transformResult:function(t){return typeof t=="string"?n.parseJSON(t):t},categories:!1,showLoading:!1,loadingText:"Loading more results...",noResultsText:""};u.element=t;u.el=n(t);u.suggestions=[];u.badQueries=[];u.selectedIndex=-1;u.currentValue=u.element.value;u.intervalId=0;u.cachedResponse=[];u.onChangeInterval=null;u.onChange=null;u.isLocal=!1;u.suggestionsContainer=null;u.options=n.extend({},e,r);u.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion",group:"autocomplete-group"};u.hint=null;u.hintValue="";u.selection=null;u.refresh=i.prototype.onValueChange;u.initialize();u.setOptions(r)}var r=function(){return{escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(n){var t=document.createElement("div");return t.innerHTML=n,t.firstChild}}}(),t={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};i.utils=r;n.Autocomplete=i;i.formatResult=function(n,t){var i="("+r.escapeRegExChars(t)+")";return n.value.replace(new RegExp(i,"gi"),"<strong>$1<\/strong>")};i.prototype={killerFn:null,initialize:function(){var t=this,e="."+t.classes.suggestion,o=t.classes.selected,r=t.options,u,f;t.element.setAttribute("autocomplete","off");r.showLoading===!0&&n(t.element).after('<div class="ac-loading-div hide" style="display: none;">'+r.loadingText+"<\/div>");n(t.element).after('<div class="ac-no-results-div hide" style="display: none;">'+r.noResultsText+"<\/div>");t.killerFn=function(i){n(i.target).closest("."+t.options.containerClass).length===0&&(t.killSuggestions(),t.disableKillerFn())};f="absolute";FFAPI.responsive.match("xl")&&document.getElementById("ff-search-desktop")&&(f="static");t.suggestionsContainer=i.utils.createNode('<div class="'+r.containerClass+'" style="position: '+f+'; display: none;"><\/div>');u=n(t.suggestionsContainer);u.appendTo(r.appendTo);r.width!=="auto"&&u.width(r.width);u.on("mouseover.autocomplete",e,function(){t.activate(n(this).data("index"))});u.on("mouseout.autocomplete",function(){t.selectedIndex=-1;u.children("."+o).removeClass(o)});u.on("click.autocomplete",e,function(){t.select(n(this).data("index"))});t.fixPosition();t.fixPositionCapture=function(){t.visible&&t.fixPosition()};n(window).on("resize",t.fixPositionCapture);t.el.on("keydown.autocomplete",function(n){t.onKeyPress(n)});t.el.on("keyup.autocomplete",function(n){t.onKeyUp(n)});t.el.on("blur.autocomplete",function(){t.onBlur()});t.el.on("focus.autocomplete",function(){t.fixPosition()});t.el.on("change.autocomplete",function(n){t.onKeyUp(n)})},onBlur:function(){},setOptions:function(t){var r=this,i=r.options;n.extend(i,t);r.isLocal=n.isArray(i.lookup);r.isLocal&&(i.lookup=r.verifySuggestionsFormat(i.lookup));n(r.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse=[];this.badQueries=[]},clear:function(){this.clearCache();this.currentValue="";this.suggestions=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,i;t.options.appendTo==="body"&&(i=t.el.offset(),n(t.suggestionsContainer).css({top:i.top+t.el.outerHeight()+"px",left:i.left+"px"}))},enableKillerFn:function(){var t=this;n(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;n(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var n=this;n.stopKillSuggestions();n.intervalId=window.setInterval(function(){n.hide();n.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var r=this,t=r.el.val().length,u=r.element.selectionStart,i;return typeof u=="number"?u===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},onKeyPress:function(n){var i=this;if(!i.disabled&&!i.visible&&n.which===t.DOWN&&i.currentValue){i.suggest();return}if(!i.disabled&&i.visible){switch(n.which){case t.ESC:i.el.val(i.currentValue);i.hide();break;case t.RIGHT:if(i.hint&&i.options.onHint&&i.isCursorAtEnd()){i.selectHint();break}return;case t.TAB:if(FFAPI.methods.hasClass(i.element,"ff-search-input"))return;case t.RETURN:if(n.which===t.TAB&&i.hint){i.selectHint();return}if(i.selectedIndex===-1){i.hide();return}if(i.select(i.selectedIndex),n.which===t.TAB&&i.options.tabDisabled===!1)return;break;case t.UP:if(FFAPI.methods.hasClass(i.element,"ff-search-input"))return;i.moveUp();break;case t.DOWN:if(FFAPI.methods.hasClass(i.element,"ff-search-input"))return;i.moveDown();break;default:return}n.stopImmediatePropagation();n.preventDefault()}},onKeyUp:function(n){var i=this;if(!i.disabled){switch(n.which){case t.UP:case t.DOWN:return}clearInterval(i.onChangeInterval);i.currentValue!==i.el.val()&&(i.findBestHint(),i.options.deferRequestBy>0?i.onChangeInterval=setInterval(function(){i.onValueChange()},i.options.deferRequestBy):i.onValueChange())}},onValueChange:function(){var t=this,i;t.selection&&(t.selection=null,(t.options.onInvalidateSelection||n.noop)());clearInterval(t.onChangeInterval);t.currentValue=t.el.val();i=t.getQuery(t.currentValue);t.selectedIndex=-1;i.length<t.options.minChars?(t.hide(),n(".js-results-container").hide(),n(".header-search-noResults").hide()):t.getSuggestions(i)},getQuery:function(t){var r=this.options.delimiter,i;return r?(i=t.split(r),n.trim(i[i.length-1])):n.trim(t)},getSuggestionsLocal:function(t){var i=this,r=t.toLowerCase(),u=i.options.lookupFilter;return{suggestions:n.grep(i.options.lookup,function(n){return u(n,t,r)})}},getSuggestions:function(t){var u,r=this,i=r.options,e=i.serviceUrl,f;if(u=r.isLocal?r.getSuggestionsLocal(t):r.cachedResponse[t],u&&n.isArray(u.suggestions))r.suggestions=u.suggestions,r.suggest();else if(!r.isBadQuery(t)){if(i.params[i.paramName]=t,i.onSearchStart.call(r.element,i.params)===!1)return;n.isFunction(i.serviceUrl)&&(e=i.serviceUrl.call(r.element,t));i.showLoading===!0&&r.showLoadingElement(n(r.element).siblings("div.ac-loading-div.hide"));f=null;i.ignoreParams||(f=i.type!="GET"?JSON.stringify(i.params):i.params);n.ajax({url:e,data:f,type:i.type,dataType:i.dataType,contentType:i.contentType}).done(function(n){r.processResponse(n,t);i.onSearchComplete.call(r.element,t)}).fail(function(){r.hideLoadingElement(n(r.element).siblings("div.ac-loading-div"))})}},isBadQuery:function(n){for(var t=this.badQueries,i=t.length;i--;)if(n.indexOf(t[i])===0)return!0;return!1},hide:function(){var t=this;t.visible=!1;t.selectedIndex=-1;n(t.suggestionsContainer).hide();t.signalHint(null);n(".js-results-container").hide()},suggest:function(){var f,i,s;if(this.suggestions.length===0){this.hide();n(".header-search-noResults").show();return}var t=this,c=t.options.formatResult,l=t.getQuery(t.currentValue),a=t.classes.suggestion,y=t.classes.selected,p=t.classes.group,e=n(t.suggestionsContainer),w=t.options.categories,h;if(n(".header-search-noResults").hide(),f=[],w){var r="",u=n.extend(!0,{},this.options.suggestions_map),o={},v=!1;n.each(t.suggestions,function(t,i){i.category!=r&&(r=i.category,u[r]||(u[r]=[]),o[r]=i.label);var s=c(i,l),f=n("<div>",{"class":"suggestion-wrapper"}),e=n("<span>",{"class":a,"data-index":t});e.append(s);f.append(e);u[r].push(f);v=i.IsSearchResultSuggestion});for(i in u)u[i].length>0&&(s=n("<div>",{"data-tstid":"Search_Suggestions_"+i,"class":p}),s.append(u[i]),s.prepend(o[i]||i!=="c"?'<b class="results-group">'+(o[i]?o[i]:i)+"<\/b>":""),f.push(s));n(".js-resultsautocomplete").html(this.suggestions.length);v?(n(".js-results-container").before('<strong id="results-space" class="float-left mb30 visible-xl hidden-md hidden-sm hidden-xs"><\/strong>'),n(".js-results-container").hide()):(n("#results-space").remove(),n(".js-results-container").show())}else n.each(t.suggestions,function(t,i){var r=n("<div>",{"class":a,"data-index":t});r.append(c(i,l));f.push(r)});t.options.width==="auto"&&(h=t.el.outerWidth()-2,e.width(h>0?h:300));FFAPI.responsive.match("xl")&&!!document.getElementById("ff-absearch-input")?e.empty().append(f).slideDown("swing"):e.empty().append(f).show();t.visible=!0;t.options.autoSelectFirst&&(t.selectedIndex=0,e.children("."+t.classes.suggestion).first().addClass(y));t.findBestHint()},findBestHint:function(){var t=this,r=t.el.val().toLowerCase(),i=null;n.each(t.suggestions,function(n,t){var u=t.value.toLowerCase().indexOf(r)===0;return u&&(i=t),!u});t.signalHint(i)},signalHint:function(t){var r="",i=this;t&&(r=i.currentValue+t.value.substr(i.currentValue.length));i.hintValue!==r&&(i.hintValue=r,i.hint=t,(this.options.onHint||n.noop)(r))},verifySuggestionsFormat:function(t){return t.length&&typeof t[0]=="string"?n.map(t,function(n){return{value:n,data:null}}):t},showLoadingElement:function(t){n(t).show()},hideLoadingElement:function(t){n(t).hide()},processResponse:function(t,i){var r=this,f=r.options,u=f.transformResult(t,i);u.suggestions=r.verifySuggestionsFormat(u.suggestions);f.noCache||(r.cachedResponse[u[f.paramName]]=u,u.suggestions.length===0&&r.badQueries.push(u[f.paramName]));f.showLoading===!0&&r.hideLoadingElement(n(r.element).siblings("div.ac-loading-div"));i===r.getQuery(r.currentValue)&&(r.suggestions=u.suggestions,r.suggest())},activate:function(t){var i=this,r,u=i.classes.selected,o=i.classes.suggestion,f=n(i.suggestionsContainer),e=f.children("."+o);return(f.children("."+u).removeClass(u),i.selectedIndex=t,i.selectedIndex!==-1&&e.length>i.selectedIndex)?(r=e.get(i.selectedIndex),n(r).addClass(u),r):null},selectHint:function(){var t=this,i=n.inArray(t.hint,t.suggestions);t.select(i)},select:function(n){var t=this;t.hide();t.onSelect(n)},moveUp:function(){var t=this;if(t.selectedIndex!==-1){if(t.selectedIndex===0){n(t.suggestionsContainer).children().first().removeClass(t.classes.selected);t.selectedIndex=-1;t.el.val(t.currentValue);t.findBestHint();return}t.adjustScroll(t.selectedIndex-1)}},moveDown:function(){var n=this;n.selectedIndex!==n.suggestions.length-1&&n.adjustScroll(n.selectedIndex+1)},adjustScroll:function(t){var i=this,f=i.activate(t),r,u,e,o=25;f&&(r=f.offsetTop,u=n(i.suggestionsContainer).scrollTop(),e=u+i.options.maxHeight-o,r<u?n(i.suggestionsContainer).scrollTop(r):r>e&&n(i.suggestionsContainer).scrollTop(r-i.options.maxHeight+o),i.el.val(i.getValue(i.suggestions[t].value)),i.signalHint(null))},onSelect:function(t){var i=this,u=i.options.onSelect,r=i.suggestions[t];i.currentValue=i.getValue(r.value);i.el.val(i.currentValue);i.signalHint(null);i.suggestions=[];i.selection=r;n.isFunction(u)&&u.call(i.element,r)},getValue:function(n){var r=this,u=r.options.delimiter,t,i;return u?(t=r.currentValue,i=t.split(u),i.length===1)?n:t.substr(0,t.length-i[i.length-1].length)+n:n},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete");t.disableKillerFn();n(window).off("resize",t.fixPositionCapture);n(t.suggestionsContainer).remove()}};n.fn.autocomplete=function(t,r){var u="autocomplete";return arguments.length===0?this.first().data(u):this.each(function(){var e=n(this),f=e.data(u);typeof t=="string"?f&&typeof f[t]=="function"&&f[t](r):(f&&f.dispose&&f.dispose(),f=new i(this,t),e.data(u,f))})}});FFAPI=FFAPI||{};FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.rotatingBanner={containerEl:null,banners:[],timer:null,indexCurrentBanner:0,defaultInterval:5e3,bannerClicked:!1,banner:function(n,t){this.el=n;this.next=t;this.delay=n.getAttribute("data-interval")||FFAPI.plugins.rotatingBanner.defaultInterval},getBanners:function(){for(var t=this.containerEl.querySelectorAll(".banner"),n=0;n<t.length;n++)this.banners.push(new this.banner(t[n],n===t.length-1?0:n+1)),this.bindClick(this.banners[n].el)},bindClick:function(n){if(Modernizr.touch)FFAPI.methods.on(n,"click",this.controlState.bind(this))},activate:function(n){FFAPI.methods.addClass(this.banners[n].el,"active");this.indexCurrentBanner=n},deactivate:function(n){FFAPI.methods.removeClass(this.banners[n].el,"active");this.indexCurrentBanner=0},setHoverEvents:function(){if(!Modernizr.touch){FFAPI.methods.on(this.containerEl,"mouseenter",this.controlState.bind(this));FFAPI.methods.on(this.containerEl,"mouseleave",this.controlState.bind(this))}},controlState:function(){this.bannerClicked=!this.bannerClicked;this.bannerClicked?clearTimeout(this.timer):this.animate(this.indexCurrentBanner)},destroy:function(n){var i,t;this.timer&&clearInterval(this.timer);i=document.getElementById("globalPos");i.parentNode.removeChild(i);FFAPI.methods.addClass(FFAPI.doc.body,"globalPos__hide");FFAPI.responsive.match("xl")?FFAPI.header.trigger("headerHeight",FFAPI.header.scroll.options.hideHeight):FFAPI.header.trigger("headerHeight",FFAPI.header.scroll.options.hideHeight_sm);t=n?n:window.event;t.preventDefault&&t.preventDefault();t.returnValue=!1},animate:function(n){this.banners[n]&&(this.activate(n),this.timer=setTimeout(function(){this.deactivate(n);this.animate(this.banners[n].next)}.bind(this),this.banners[n].delay))},init:function(n,t){var r,u,i;if((this.containerEl=t?t:document.getElementsByClassName("info-banners-container")[0],this.containerEl)&&(this.getBanners(),this.setHoverEvents(),this.animate(this.indexCurrentBanner),FFAPI.methods.extend(this,n),r=document.querySelectorAll(".globalPos__destroy"),u=r.length,u>0))for(i=0;i<u;i++)FFAPI.methods.on(r[i],FFAPI.header.click,this.destroy.bind(this))}};
/*!
loadCSS: load a CSS file asynchronously.
[c]2014 @scottjehl, Filament Group, Inc.
Licensed MIT
*/
FFAPI=FFAPI||{};FFAPI.plugins=FFAPI.plugins||{};FFAPI.plugins.loadCss=function(n,t,i,r){"use strict";var u=window.document.createElement("link"),e=t||window.document.getElementsByTagName("script")[0],f=window.document.styleSheets;u.rel="stylesheet";u.href=n;u.media="only x";r&&(u.onload=r);console.log(t);e.parentNode.insertBefore(u,e);u.onloadcssdefined=function(n){for(var i,t=0;t<f.length;t++)f[t].href&&f[t].href===u.href&&(i=!0);i?n():setTimeout(function(){u.onloadcssdefined(n)})};u.onloadcssdefined(function(){u.media=i||"all"});return u};